var Ea=Object.defineProperty;var Ca=(t,e,n)=>e in t?Ea(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var _i=(t,e,n)=>(Ca(t,typeof e!="symbol"?e+"":e,n),n);import{I as Da,S as xt,i as Rt,s as it,J as Gr,e as Ce,K as Ur,m as N,h as O,n as I,b as H,G as B,g as Pt,t as X,d as Lt,f as U,L as Ta,M as Re,N as Je,q as ve,r as me,u as $e,B as ge,C as ho,D as po,E as vo,F as mo,O as Aa,k as z,l as F,P as bi,Q as wi,R as yo,T as re,H as dr,a as se,c as ue,U as go,V as Ei,W as hn,X as bt,Y as Ci,v as Di,w as ft,x as Tt,y as dt,Z as Ia,z as ht,_ as Ti,$ as ka,a0 as Sa,o as Oa,a1 as Ai,a2 as _o,a3 as bo,a4 as Ma,a5 as xa,a6 as Ra,a7 as Pa,a8 as La,a9 as Ba}from"../../chunks/index-d1a17515.js";import{w as wo,j as ot}from"../../chunks/singletons-e12b43fd.js";function Ka(){const{subscribe:t,set:e,update:n}=wo([]);return{subscribe:t,set:e,update:n,trigger:r=>n(i=>(i.push(r),i)),close:()=>n(r=>(r.length>0&&r.shift(),r)),clear:()=>e([])}}const Ye=Ka(),tr={};function Eo(t,e,n){const r=typeof localStorage<"u"&&typeof window<"u",i=(n==null?void 0:n.serializer)||JSON;function o(a,s){r&&localStorage.setItem(a,i.stringify(s))}if(!tr[t]){const a=wo(e,l=>{const c=r?localStorage.getItem(t):null;if(c&&l(i.parse(c)),r){const f=d=>{d.key===t&&l(d.newValue?i.parse(d.newValue):null)};return window.addEventListener("storage",f),()=>window.removeEventListener("storage",f)}}),{subscribe:s,set:u}=a;tr[t]={set(l){o(t,l),u(l)},update(l){const c=l(Da(a));o(t,c),u(c)},subscribe:s}}return tr[t]}const Ii=Eo("storePrefersDarkScheme",!1),pn=Eo("storeLightSwitch",void 0);function Na(t,e){const n='a[href], button, input, textarea, select, details, [tabindex]:not([tabindex="-1"])';let r,i;function o(l){l.shiftKey&&l.code==="Tab"&&(l.preventDefault(),i.focus())}function a(l){!l.shiftKey&&l.code==="Tab"&&(l.preventDefault(),r.focus())}const s=()=>{if(e===!1)return;const l=Array.from(t.querySelectorAll(n));l.length&&(r=l[0],i=l[l.length-1],r.focus(),r.addEventListener("keydown",o),i.addEventListener("keydown",a))};s();function u(){r&&r.removeEventListener("keydown",o),i&&i.removeEventListener("keydown",a)}return{update(l){e=l,l?s():u()},destroy(){u()}}}const hr={image:{path:"M447.1 32h-384C28.64 32-.0091 60.65-.0091 96v320c0 35.35 28.65 64 63.1 64h384c35.35 0 64-28.65 64-64V96C511.1 60.65 483.3 32 447.1 32zM111.1 96c26.51 0 48 21.49 48 48S138.5 192 111.1 192s-48-21.49-48-48S85.48 96 111.1 96zM446.1 407.6C443.3 412.8 437.9 416 432 416H82.01c-6.021 0-11.53-3.379-14.26-8.75c-2.73-5.367-2.215-11.81 1.334-16.68l70-96C142.1 290.4 146.9 288 152 288s9.916 2.441 12.93 6.574l32.46 44.51l93.3-139.1C293.7 194.7 298.7 192 304 192s10.35 2.672 13.31 7.125l128 192C448.6 396 448.9 402.3 446.1 407.6z"},github:{path:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"},discord:{viewBox:"0 0 640 512",path:"M524.531,69.836a1.5,1.5,0,0,0-.764-.7A485.065,485.065,0,0,0,404.081,32.03a1.816,1.816,0,0,0-1.923.91,337.461,337.461,0,0,0-14.9,30.6,447.848,447.848,0,0,0-134.426,0,309.541,309.541,0,0,0-15.135-30.6,1.89,1.89,0,0,0-1.924-.91A483.689,483.689,0,0,0,116.085,69.137a1.712,1.712,0,0,0-.788.676C39.068,183.651,18.186,294.69,28.43,404.354a2.016,2.016,0,0,0,.765,1.375A487.666,487.666,0,0,0,176.02,479.918a1.9,1.9,0,0,0,2.063-.676A348.2,348.2,0,0,0,208.12,430.4a1.86,1.86,0,0,0-1.019-2.588,321.173,321.173,0,0,1-45.868-21.853,1.885,1.885,0,0,1-.185-3.126c3.082-2.309,6.166-4.711,9.109-7.137a1.819,1.819,0,0,1,1.9-.256c96.229,43.917,200.41,43.917,295.5,0a1.812,1.812,0,0,1,1.924.233c2.944,2.426,6.027,4.851,9.132,7.16a1.884,1.884,0,0,1-.162,3.126,301.407,301.407,0,0,1-45.89,21.83,1.875,1.875,0,0,0-1,2.611,391.055,391.055,0,0,0,30.014,48.815,1.864,1.864,0,0,0,2.063.7A486.048,486.048,0,0,0,610.7,405.729a1.882,1.882,0,0,0,.765-1.352C623.729,277.594,590.933,167.465,524.531,69.836ZM222.491,337.58c-28.972,0-52.844-26.587-52.844-59.239S193.056,219.1,222.491,219.1c29.665,0,53.306,26.82,52.843,59.239C275.334,310.993,251.924,337.58,222.491,337.58Zm195.38,0c-28.971,0-52.843-26.587-52.843-59.239S388.437,219.1,417.871,219.1c29.667,0,53.307,26.82,52.844,59.239C470.715,310.993,447.538,337.58,417.871,337.58Z"},twitter:{path:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"},svelte:{viewBox:"0 0 513.978 597.129",path:"M179.547 545.729c-63.418-10.114-114.409-57.647-126.738-118.147-6.814-33.436-1.056-69.7 15.357-96.718l3.628-5.972-4.271-9.908c-24.281-56.32-9.106-121.877 36.892-159.376 10.666-8.695 132.771-86.226 145.148-92.162 21.395-10.261 41.161-14.203 66.834-13.328 18.527.631 27.235 2.147 43.648 7.597 51.619 17.139 90.63 60.248 101.124 111.747 6.814 33.436 1.056 69.7-15.357 96.719l-3.628 5.972 4.272 9.907c24.28 56.32 9.105 121.877-36.893 159.376-10.665 8.696-132.77 86.227-145.148 92.163-12.055 5.781-25.266 9.867-39.22 12.13-11.505 1.867-33.943 1.866-45.648 0zm40.107-56.452c8.462-1.864 18.23-5.676 24.437-9.538 35.719-22.223 123.574-78.887 127.592-82.293 12.127-10.28 21.731-25.243 26.045-40.577 3.4-12.09 3.396-31.504-.01-43.495-13.838-48.709-63.665-77.61-112.356-65.171-10.868 2.776-18.714 6.93-45.78 24.232-13.075 8.359-25.352 15.857-27.283 16.664-4.16 1.738-13.889 1.925-18.096.347-17.67-6.628-23.849-28.21-11.645-40.68 5.378-5.494 122.039-79.894 127.75-81.47 9.037-2.496 20.352 1.013 26.744 8.293 4.882 5.56 6.727 10.52 6.695 17.99l-.029 6.446 4.904 1.306c12.307 3.278 34.058 14.246 45.35 22.869 2.72 2.076 5.285 3.775 5.7 3.775 1.288 0 5.255-14.95 6.4-24.12 3.407-27.296-9.063-57.132-31.933-76.408-26.294-22.162-62.304-28-94.067-15.252-6.577 2.64-.2-1.29-74.004 45.59-55.791 35.438-59.99 38.319-68.987 47.332-10.858 10.879-16.752 20.816-20.829 35.118-3.414 11.98-3.41 31.399.01 43.435 13.837 48.71 63.663 77.611 112.355 65.171 10.824-2.765 18.631-6.896 45.876-24.271 13.128-8.373 25.406-15.869 27.283-16.657 4.071-1.71 13.823-1.88 18-.314 17.67 6.628 23.848 28.21 11.644 40.679-5.378 5.494-122.038 79.894-127.749 81.47-9.037 2.496-20.352-1.013-26.744-8.293-4.883-5.56-6.728-10.52-6.695-17.99l.028-6.446-4.904-1.306c-12.306-3.278-34.057-14.246-45.35-22.868-2.72-2.077-5.284-3.776-5.699-3.776-1.288 0-5.255 14.95-6.4 24.121-4.265 34.178 16.128 70.808 48.833 87.712 20.186 10.434 40.992 13.203 62.915 8.375z"},tailwind:{viewBox:"0.15 0.13 799.7 479.69",path:"M400 .13c-106.63 0-173.27 53.3-199.93 159.89 39.99-53.3 86.64-73.28 139.95-59.96 30.42 7.6 52.16 29.67 76.23 54.09 39.2 39.78 84.57 85.82 183.68 85.82 106.62 0 173.27-53.3 199.92-159.9-39.98 53.3-86.63 73.29-139.95 59.97-30.41-7.6-52.15-29.67-76.22-54.09C544.48 46.17 499.1.13 400 .13zM200.07 239.97c-106.62 0-173.27 53.3-199.92 159.9 39.98-53.3 86.63-73.29 139.95-59.96 30.41 7.61 52.15 29.67 76.22 54.08 39.2 39.78 84.58 85.83 183.68 85.83 106.63 0 173.27-53.3 199.93-159.9-39.99 53.3-86.64 73.29-139.95 59.96-30.42-7.59-52.16-29.67-76.23-54.08-39.2-39.78-84.57-85.83-183.68-85.83z"},astro:{viewBox:"0 0 1280 1280",path:"M815 95c10 12 15 28 25 61l216 711c-80-42-167-72-259-88L656 303a18 18 0 0 0-35 0L482 779c-92 16-180 46-260 88l217-712c10-32 15-48 25-60 9-11 20-19 32-24 15-6 32-6 66-6h155c34 0 51 0 66 6 12 5 23 13 32 24Zm26 806c-36 30-107 51-189 51-101 0-185-31-208-73-8 24-9 51-9 69 0 0-6 87 55 147 0-31 25-57 56-57 54 0 54 47 54 85v4c0 57 35 107 85 128-7-16-11-33-11-51 0-55 32-76 70-100 29-19 63-40 86-82a155 155 0 0 0 11-121Z"},linkedin:{path:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"},npm:{viewBox:"0 0 576 512",path:"M288 288h-32v-64h32v64zm288-128v192H288v32H160v-32H0V160h576zm-416 32H32v128h64v-96h32v96h32V192zm160 0H192v160h64v-32h64V192zm224 0H352v128h64v-96h32v96h32v-96h32v96h32V192z"},"angle-down":{viewBox:"0 0 384 512",path:"M192 384c-8.188 0-16.38-3.125-22.62-9.375l-160-160c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0L192 306.8l137.4-137.4c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25l-160 160C208.4 380.9 200.2 384 192 384z"},"copy-button":{viewBox:"0 0 512 512",path:"M224 0c-35.3 0-64 28.7-64 64V288c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V64c0-35.3-28.7-64-64-64H224zM64 160c-35.3 0-64 28.7-64 64V448c0 35.3 28.7 64 64 64H288c35.3 0 64-28.7 64-64V384H288v64H64V224h64V160H64z"},sun:{path:"M256 159.1c-53.02 0-95.1 42.98-95.1 95.1S202.1 351.1 256 351.1s95.1-42.98 95.1-95.1S309 159.1 256 159.1zM509.3 347L446.1 255.1l63.15-91.01c6.332-9.125 1.104-21.74-9.826-23.72l-109-19.7l-19.7-109c-1.975-10.93-14.59-16.16-23.72-9.824L256 65.89L164.1 2.736c-9.125-6.332-21.74-1.107-23.72 9.824L121.6 121.6L12.56 141.3C1.633 143.2-3.596 155.9 2.736 164.1L65.89 256l-63.15 91.01c-6.332 9.125-1.105 21.74 9.824 23.72l109 19.7l19.7 109c1.975 10.93 14.59 16.16 23.72 9.824L256 446.1l91.01 63.15c9.127 6.334 21.75 1.107 23.72-9.822l19.7-109l109-19.7C510.4 368.8 515.6 356.1 509.3 347zM256 383.1c-70.69 0-127.1-57.31-127.1-127.1c0-70.69 57.31-127.1 127.1-127.1s127.1 57.3 127.1 127.1C383.1 326.7 326.7 383.1 256 383.1z"},moon:{path:"M32 256c0-123.8 100.3-224 223.8-224c11.36 0 29.7 1.668 40.9 3.746c9.616 1.777 11.75 14.63 3.279 19.44C245 86.5 211.2 144.6 211.2 207.8c0 109.7 99.71 193 208.3 172.3c9.561-1.805 16.28 9.324 10.11 16.95C387.9 448.6 324.8 480 255.8 480C132.1 480 32 379.6 32 256z"},bars:{viewBox:"0 0 576 512",path:"M0 96C0 78.33 14.33 64 32 64H416C433.7 64 448 78.33 448 96C448 113.7 433.7 128 416 128H32C14.33 128 0 113.7 0 96zM0 256C0 238.3 14.33 224 32 224H416C433.7 224 448 238.3 448 256C448 273.7 433.7 288 416 288H32C14.33 288 0 273.7 0 256zM416 448H32C14.33 448 0 433.7 0 416C0 398.3 14.33 384 32 384H416C433.7 384 448 398.3 448 416C448 433.7 433.7 448 416 448z"},house:{viewBox:"0 0 576 512",path:"M575.8 255.5C575.8 273.5 560.8 287.6 543.8 287.6H511.8L512.5 447.7C512.5 450.5 512.3 453.1 512 455.8V472C512 494.1 494.1 512 472 512H456C454.9 512 453.8 511.1 452.7 511.9C451.3 511.1 449.9 512 448.5 512H392C369.9 512 352 494.1 352 472V384C352 366.3 337.7 352 320 352H256C238.3 352 224 366.3 224 384V472C224 494.1 206.1 512 184 512H128.1C126.6 512 125.1 511.9 123.6 511.8C122.4 511.9 121.2 512 120 512H104C81.91 512 64 494.1 64 472V360C64 359.1 64.03 358.1 64.09 357.2V287.6H32.05C14.02 287.6 0 273.5 0 255.5C0 246.5 3.004 238.5 10.01 231.5L266.4 8.016C273.4 1.002 281.4 0 288.4 0C295.4 0 303.4 2.004 309.5 7.014L564.8 231.5C572.8 238.5 576.9 246.5 575.8 255.5L575.8 255.5z"},"circle-question":{path:"M256 0C114.6 0 0 114.6 0 256s114.6 256 256 256s256-114.6 256-256S397.4 0 256 0zM256 400c-18 0-32-14-32-32s13.1-32 32-32c17.1 0 32 14 32 32S273.1 400 256 400zM325.1 258L280 286V288c0 13-11 24-24 24S232 301 232 288V272c0-8 4-16 12-21l57-34C308 213 312 206 312 198C312 186 301.1 176 289.1 176h-51.1C225.1 176 216 186 216 198c0 13-11 24-24 24s-24-11-24-24C168 159 199 128 237.1 128h51.1C329 128 360 159 360 198C360 222 347 245 325.1 258z"},"circle-check":{path:"M0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256C512 397.4 397.4 512 256 512C114.6 512 0 397.4 0 256zM371.8 211.8C382.7 200.9 382.7 183.1 371.8 172.2C360.9 161.3 343.1 161.3 332.2 172.2L224 280.4L179.8 236.2C168.9 225.3 151.1 225.3 140.2 236.2C129.3 247.1 129.3 264.9 140.2 275.8L204.2 339.8C215.1 350.7 232.9 350.7 243.8 339.8L371.8 211.8z"},heart:{path:"M0 190.9V185.1C0 115.2 50.52 55.58 119.4 44.1C164.1 36.51 211.4 51.37 244 84.02L256 96L267.1 84.02C300.6 51.37 347 36.51 392.6 44.1C461.5 55.58 512 115.2 512 185.1V190.9C512 232.4 494.8 272.1 464.4 300.4L283.7 469.1C276.2 476.1 266.3 480 256 480C245.7 480 235.8 476.1 228.3 469.1L47.59 300.4C17.23 272.1 .0003 232.4 .0003 190.9L0 190.9z"},skull:{path:"M416 400V464C416 490.5 394.5 512 368 512H320V464C320 455.2 312.8 448 304 448C295.2 448 288 455.2 288 464V512H224V464C224 455.2 216.8 448 208 448C199.2 448 192 455.2 192 464V512H144C117.5 512 96 490.5 96 464V400C96 399.6 96 399.3 96.01 398.9C37.48 357.8 0 294.7 0 224C0 100.3 114.6 0 256 0C397.4 0 512 100.3 512 224C512 294.7 474.5 357.8 415.1 398.9C415.1 399.3 416 399.6 416 400V400zM160 192C124.7 192 96 220.7 96 256C96 291.3 124.7 320 160 320C195.3 320 224 291.3 224 256C224 220.7 195.3 192 160 192zM352 320C387.3 320 416 291.3 416 256C416 220.7 387.3 192 352 192C316.7 192 288 220.7 288 256C288 291.3 316.7 320 352 320z"},"align-left":{viewBox:"0 0 448 512",path:"M256 96H32C14.33 96 0 81.67 0 64C0 46.33 14.33 32 32 32H256C273.7 32 288 46.33 288 64C288 81.67 273.7 96 256 96zM256 352H32C14.33 352 0 337.7 0 320C0 302.3 14.33 288 32 288H256C273.7 288 288 302.3 288 320C288 337.7 273.7 352 256 352zM0 192C0 174.3 14.33 160 32 160H416C433.7 160 448 174.3 448 192C448 209.7 433.7 224 416 224H32C14.33 224 0 209.7 0 192zM416 480H32C14.33 480 0 465.7 0 448C0 430.3 14.33 416 32 416H416C433.7 416 448 430.3 448 448C448 465.7 433.7 480 416 480z"},"align-justify":{viewBox:"0 0 448 512",path:"M416 96H32C14.33 96 0 81.67 0 64C0 46.33 14.33 32 32 32H416C433.7 32 448 46.33 448 64C448 81.67 433.7 96 416 96zM416 352H32C14.33 352 0 337.7 0 320C0 302.3 14.33 288 32 288H416C433.7 288 448 302.3 448 320C448 337.7 433.7 352 416 352zM0 192C0 174.3 14.33 160 32 160H416C433.7 160 448 174.3 448 192C448 209.7 433.7 224 416 224H32C14.33 224 0 209.7 0 192zM416 480H32C14.33 480 0 465.7 0 448C0 430.3 14.33 416 32 416H416C433.7 416 448 430.3 448 448C448 465.7 433.7 480 416 480z"},"align-right":{viewBox:"0 0 448 512",path:"M416 96H192C174.3 96 160 81.67 160 64C160 46.33 174.3 32 192 32H416C433.7 32 448 46.33 448 64C448 81.67 433.7 96 416 96zM416 352H192C174.3 352 160 337.7 160 320C160 302.3 174.3 288 192 288H416C433.7 288 448 302.3 448 320C448 337.7 433.7 352 416 352zM0 192C0 174.3 14.33 160 32 160H416C433.7 160 448 174.3 448 192C448 209.7 433.7 224 416 224H32C14.33 224 0 209.7 0 192zM416 480H32C14.33 480 0 465.7 0 448C0 430.3 14.33 416 32 416H416C433.7 416 448 430.3 448 448C448 465.7 433.7 480 416 480z"},book:{path:"M448 336v-288C448 21.49 426.5 0 400 0H96C42.98 0 0 42.98 0 96v320c0 53.02 42.98 96 96 96h320c17.67 0 32-14.33 32-31.1c0-11.72-6.607-21.52-16-27.1v-81.36C441.8 362.8 448 350.2 448 336zM143.1 128h192C344.8 128 352 135.2 352 144C352 152.8 344.8 160 336 160H143.1C135.2 160 128 152.8 128 144C128 135.2 135.2 128 143.1 128zM143.1 192h192C344.8 192 352 199.2 352 208C352 216.8 344.8 224 336 224H143.1C135.2 224 128 216.8 128 208C128 199.2 135.2 192 143.1 192zM384 448H96c-17.67 0-32-14.33-32-32c0-17.67 14.33-32 32-32h288V448z"},clapperboard:{path:"M326.1 160l127.4-127.4C451.7 32.39 449.9 32 448 32h-86.06l-128 128H326.1zM166.1 160l128-128H201.9l-128 128H166.1zM497.7 56.19L393.9 160H512V96C512 80.87 506.5 67.15 497.7 56.19zM134.1 32H64C28.65 32 0 60.65 0 96v64h6.062L134.1 32zM0 416c0 35.35 28.65 64 64 64h384c35.35 0 64-28.65 64-64V192H0V416z"},tv:{viewBox:"0 0 640 512",path:"M463.1 32h-416C21.49 32-.0001 53.49-.0001 80v352c0 26.51 21.49 48 47.1 48h416c26.51 0 48-21.49 48-48v-352C511.1 53.49 490.5 32 463.1 32zM111.1 408c0 4.418-3.582 8-8 8H55.1c-4.418 0-8-3.582-8-8v-48c0-4.418 3.582-8 8-8h47.1c4.418 0 8 3.582 8 8L111.1 408zM111.1 280c0 4.418-3.582 8-8 8H55.1c-4.418 0-8-3.582-8-8v-48c0-4.418 3.582-8 8-8h47.1c4.418 0 8 3.582 8 8V280zM111.1 152c0 4.418-3.582 8-8 8H55.1c-4.418 0-8-3.582-8-8v-48c0-4.418 3.582-8 8-8h47.1c4.418 0 8 3.582 8 8L111.1 152zM351.1 400c0 8.836-7.164 16-16 16H175.1c-8.836 0-16-7.164-16-16v-96c0-8.838 7.164-16 16-16h160c8.836 0 16 7.162 16 16V400zM351.1 208c0 8.836-7.164 16-16 16H175.1c-8.836 0-16-7.164-16-16v-96c0-8.838 7.164-16 16-16h160c8.836 0 16 7.162 16 16V208zM463.1 408c0 4.418-3.582 8-8 8h-47.1c-4.418 0-7.1-3.582-7.1-8l0-48c0-4.418 3.582-8 8-8h47.1c4.418 0 8 3.582 8 8V408zM463.1 280c0 4.418-3.582 8-8 8h-47.1c-4.418 0-8-3.582-8-8v-48c0-4.418 3.582-8 8-8h47.1c4.418 0 8 3.582 8 8V280zM463.1 152c0 4.418-3.582 8-8 8h-47.1c-4.418 0-8-3.582-8-8l0-48c0-4.418 3.582-8 7.1-8h47.1c4.418 0 8 3.582 8 8V152z"},swatchbook:{path:"M0 32C0 14.33 14.33 0 32 0H160C177.7 0 192 14.33 192 32V416C192 469 149 512 96 512C42.98 512 0 469 0 416V32zM128 64H64V128H128V64zM64 256H128V192H64V256zM96 440C109.3 440 120 429.3 120 416C120 402.7 109.3 392 96 392C82.75 392 72 402.7 72 416C72 429.3 82.75 440 96 440zM224 416V154L299.4 78.63C311.9 66.13 332.2 66.13 344.7 78.63L435.2 169.1C447.7 181.6 447.7 201.9 435.2 214.4L223.6 425.9C223.9 422.7 224 419.3 224 416V416zM374.8 320H480C497.7 320 512 334.3 512 352V480C512 497.7 497.7 512 480 512H182.8L374.8 320z"},screwdriver:{path:"M331.8 224.1c28.29 0 54.88 10.99 74.86 30.97l19.59 19.59c40.01-17.74 71.25-53.3 81.62-96.65c5.725-23.92 5.34-47.08 .2148-68.4c-2.613-10.88-16.43-14.51-24.34-6.604l-68.9 68.9h-75.6V97.2l68.9-68.9c7.912-7.912 4.275-21.73-6.604-24.34c-21.32-5.125-44.48-5.51-68.4 .2148c-55.3 13.23-98.39 60.22-107.2 116.4C224.5 128.9 224.2 137 224.3 145l82.78 82.86C315.2 225.1 323.5 224.1 331.8 224.1zM384 278.6c-23.16-23.16-57.57-27.57-85.39-13.9L191.1 158L191.1 95.99l-127.1-95.99L0 63.1l96 127.1l62.04 .0077l106.7 106.6c-13.67 27.82-9.251 62.23 13.91 85.39l117 117.1c14.62 14.5 38.21 14.5 52.71-.0016l52.75-52.75c14.5-14.5 14.5-38.08-.0016-52.71L384 278.6zM227.9 307L168.7 247.9l-148.9 148.9c-26.37 26.37-26.37 69.08 0 95.45C32.96 505.4 50.21 512 67.5 512s34.54-6.592 47.72-19.78l119.1-119.1C225.5 352.3 222.6 329.4 227.9 307zM64 472c-13.25 0-24-10.75-24-24c0-13.26 10.75-24 24-24S88 434.7 88 448C88 461.3 77.25 472 64 472z"},"pen-ruler":{path:"M469.3 19.3l23.4 23.4c25 25 25 65.5 0 90.5l-56.4 56.4L322.3 75.7l56.4-56.4c25-25 65.5-25 90.5 0zM44.9 353.2L299.7 98.3 413.7 212.3 158.8 467.1c-6.7 6.7-15.1 11.6-24.2 14.2l-104 29.7c-8.4 2.4-17.4 .1-23.6-6.1s-8.5-15.2-6.1-23.6l29.7-104c2.6-9.2 7.5-17.5 14.2-24.2zM249.4 103.4L103.4 249.4 16 161.9c-18.7-18.7-18.7-49.1 0-67.9L94.1 16c18.7-18.7 49.1-18.7 67.9 0l19.8 19.8c-.3 .3-.7 .6-1 .9l-64 64c-6.2 6.2-6.2 16.4 0 22.6s16.4 6.2 22.6 0l64-64c.3-.3 .6-.7 .9-1l45.1 45.1zM408.6 262.6l45.1 45.1c-.3 .3-.7 .6-1 .9l-64 64c-6.2 6.2-6.2 16.4 0 22.6s16.4 6.2 22.6 0l64-64c.3-.3 .6-.7 .9-1L496 350.1c18.7 18.7 18.7 49.1 0 67.9L417.9 496c-18.7 18.7-49.1 18.7-67.9 0l-87.4-87.4L408.6 262.6z"},keyboard:{viewBox:"0 0 576 512",path:"M512 64H64C28.65 64 0 92.65 0 128v256c0 35.35 28.65 64 64 64h448c35.35 0 64-28.65 64-64V128C576 92.65 547.3 64 512 64zM528 384c0 8.822-7.178 16-16 16H64c-8.822 0-16-7.178-16-16V128c0-8.822 7.178-16 16-16h448c8.822 0 16 7.178 16 16V384zM140 152h-24c-6.656 0-12 5.344-12 12v24c0 6.656 5.344 12 12 12h24c6.656 0 12-5.344 12-12v-24C152 157.3 146.7 152 140 152zM196 200h24c6.656 0 12-5.344 12-12v-24c0-6.656-5.344-12-12-12h-24c-6.656 0-12 5.344-12 12v24C184 194.7 189.3 200 196 200zM276 200h24c6.656 0 12-5.344 12-12v-24c0-6.656-5.344-12-12-12h-24c-6.656 0-12 5.344-12 12v24C264 194.7 269.3 200 276 200zM356 200h24c6.656 0 12-5.344 12-12v-24c0-6.656-5.344-12-12-12h-24c-6.656 0-12 5.344-12 12v24C344 194.7 349.3 200 356 200zM460 152h-24c-6.656 0-12 5.344-12 12v24c0 6.656 5.344 12 12 12h24c6.656 0 12-5.344 12-12v-24C472 157.3 466.7 152 460 152zM140 232h-24c-6.656 0-12 5.344-12 12v24c0 6.656 5.344 12 12 12h24c6.656 0 12-5.344 12-12v-24C152 237.3 146.7 232 140 232zM196 280h24c6.656 0 12-5.344 12-12v-24c0-6.656-5.344-12-12-12h-24c-6.656 0-12 5.344-12 12v24C184 274.7 189.3 280 196 280zM276 280h24c6.656 0 12-5.344 12-12v-24c0-6.656-5.344-12-12-12h-24c-6.656 0-12 5.344-12 12v24C264 274.7 269.3 280 276 280zM356 280h24c6.656 0 12-5.344 12-12v-24c0-6.656-5.344-12-12-12h-24c-6.656 0-12 5.344-12 12v24C344 274.7 349.3 280 356 280zM460 232h-24c-6.656 0-12 5.344-12 12v24c0 6.656 5.344 12 12 12h24c6.656 0 12-5.344 12-12v-24C472 237.3 466.7 232 460 232zM400 320h-224C167.1 320 160 327.1 160 336V352c0 8.875 7.125 16 16 16h224c8.875 0 16-7.125 16-16v-16C416 327.1 408.9 320 400 320z"},rocket:{path:"M156.6 384.9L125.7 354c-8.5-8.5-11.5-20.8-7.7-32.2c3-8.9 7-20.5 11.8-33.8L24 288c-8.6 0-16.6-4.6-20.9-12.1s-4.2-16.7 .2-24.1l52.5-88.5c13-21.9 36.5-35.3 61.9-35.3l82.3 0c2.4-4 4.8-7.7 7.2-11.3C289.1-4.1 411.1-8.1 483.9 5.3c11.6 2.1 20.6 11.2 22.8 22.8c13.4 72.9 9.3 194.8-111.4 276.7c-3.5 2.4-7.3 4.8-11.3 7.2v82.3c0 25.4-13.4 49-35.3 61.9l-88.5 52.5c-7.4 4.4-16.6 4.5-24.1 .2s-12.1-12.2-12.1-20.9V380.8c-14.1 4.9-26.4 8.9-35.7 11.9c-11.2 3.6-23.4 .5-31.8-7.8zM384 168c22.1 0 40-17.9 40-40s-17.9-40-40-40s-40 17.9-40 40s17.9 40 40 40z"},copy:{viewBox:"0 0 512 512",path:"M224 0c-35.3 0-64 28.7-64 64V288c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V64c0-35.3-28.7-64-64-64H224zM64 160c-35.3 0-64 28.7-64 64V448c0 35.3 28.7 64 64 64H288c35.3 0 64-28.7 64-64V384H288v64H64V224h64V160H64z"},cubes:{viewBox:"0 0 576 512",path:"M290.8 48.6l78.4 29.7L288 109.5 206.8 78.3l78.4-29.7c1.8-.7 3.8-.7 5.7 0zM136 92.5V204.7c-1.3 .4-2.6 .8-3.9 1.3l-96 36.4C14.4 250.6 0 271.5 0 294.7V413.9c0 22.2 13.1 42.3 33.5 51.3l96 42.2c14.4 6.3 30.7 6.3 45.1 0L288 457.5l113.5 49.9c14.4 6.3 30.7 6.3 45.1 0l96-42.2c20.3-8.9 33.5-29.1 33.5-51.3V294.7c0-23.3-14.4-44.1-36.1-52.4l-96-36.4c-1.3-.5-2.6-.9-3.9-1.3V92.5c0-23.3-14.4-44.1-36.1-52.4l-96-36.4c-12.8-4.8-26.9-4.8-39.7 0l-96 36.4C150.4 48.4 136 69.3 136 92.5zM392 210.6l-82.4 31.2V152.6L392 121v89.6zM154.8 250.9l78.4 29.7L152 311.7 70.8 280.6l78.4-29.7c1.8-.7 3.8-.7 5.7 0zm18.8 204.4V354.8L256 323.2v95.9l-82.4 36.2zM421.2 250.9c1.8-.7 3.8-.7 5.7 0l78.4 29.7L424 311.7l-81.2-31.1 78.4-29.7zM523.2 421.2l-77.6 34.1V354.8L528 323.2v90.7c0 3.2-1.9 6-4.8 7.3z"},search:{viewBox:"0 0 512 512",path:"M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352c79.5 0 144-64.5 144-144s-64.5-144-144-144S64 128.5 64 208s64.5 144 144 144z"}};function ki(t){let e,n;return{c(){e=Gr("title"),n=ve(t[4])},l(r){e=Ur(r,"title",{});var i=N(e);n=me(i,t[4]),i.forEach(O)},m(r,i){H(r,e,i),B(e,n)},p(r,i){i&16&&$e(n,r[4])},d(r){r&&O(e)}}}function za(t){let e,n;return{c(){e=Gr("path"),this.h()},l(r){e=Ur(r,"path",{d:!0}),N(e).forEach(O),this.h()},h(){I(e,"d",n=hr[t[0]].path)},m(r,i){H(r,e,i)},p(r,i){i&1&&n!==(n=hr[r[0]].path)&&I(e,"d",n)},i:ge,o:ge,d(r){r&&O(e)}}}function Fa(t){let e;const n=t[12].default,r=ho(n,t,t[11],null);return{c(){r&&r.c()},l(i){r&&r.l(i)},m(i,o){r&&r.m(i,o),e=!0},p(i,o){r&&r.p&&(!e||o&2048)&&po(r,n,i,i[11],e?mo(n,i[11],o,null):vo(i[11]),null)},i(i){e||(U(r,i),e=!0)},o(i){X(r,i),e=!1},d(i){r&&r.d(i)}}}function Ha(t){let e,n,r,i,o,a,s=t[4]&&ki(t);const u=[Fa,za],l=[];function c(f,d){return f[7].default?0:1}return r=c(t),i=l[r]=u[r](t),{c(){e=Gr("svg"),s&&s.c(),n=Ce(),i.c(),this.h()},l(f){e=Ur(f,"svg",{xmlns:!0,x:!0,y:!0,viewBox:!0,class:!0,focusable:!0,"data-testid":!0});var d=N(e);s&&s.l(d),n=Ce(),i.l(d),d.forEach(O),this.h()},h(){I(e,"xmlns","http://www.w3.org/2000/svg"),I(e,"x",t[1]),I(e,"y",t[2]),I(e,"viewBox",t[3]),I(e,"class",o="svg-icon "+t[5]+" "+(t[6].class??"")),I(e,"focusable","false"),I(e,"data-testid","svg-icon")},m(f,d){H(f,e,d),s&&s.m(e,null),B(e,n),l[r].m(e,null),a=!0},p(f,[d]){f[4]?s?s.p(f,d):(s=ki(f),s.c(),s.m(e,n)):s&&(s.d(1),s=null);let h=r;r=c(f),r===h?l[r].p(f,d):(Pt(),X(l[h],1,1,()=>{l[h]=null}),Lt(),i=l[r],i?i.p(f,d):(i=l[r]=u[r](f),i.c()),U(i,1),i.m(e,null)),(!a||d&2)&&I(e,"x",f[1]),(!a||d&4)&&I(e,"y",f[2]),(!a||d&8)&&I(e,"viewBox",f[3]),(!a||d&96&&o!==(o="svg-icon "+f[5]+" "+(f[6].class??"")))&&I(e,"class",o)},i(f){a||(U(i),a=!0)},o(f){X(i),a=!1},d(f){f&&O(e),s&&s.d(),l[r].d()}}}const Va="inline-block outline-none";function ja(t,e,n){let r,{$$slots:i={},$$scope:o}=e;const a=Ta(i);let{name:s="image"}=e,{x:u="0px"}=e,{y:l="0px"}=e,{viewBox:c=hr[s].viewBox||"0 0 512 512"}=e,{fill:f="fill-current"}=e,{width:d="w-5"}=e,{height:h="h-5"}=e,{title:p=""}=e;return t.$$set=v=>{n(6,e=Re(Re({},e),Je(v))),"name"in v&&n(0,s=v.name),"x"in v&&n(1,u=v.x),"y"in v&&n(2,l=v.y),"viewBox"in v&&n(3,c=v.viewBox),"fill"in v&&n(8,f=v.fill),"width"in v&&n(9,d=v.width),"height"in v&&n(10,h=v.height),"title"in v&&n(4,p=v.title),"$$scope"in v&&n(11,o=v.$$scope)},t.$$.update=()=>{t.$$.dirty&1792&&n(5,r=`${Va} ${f} ${d} ${h}`)},e=Je(e),[s,u,l,c,p,r,e,a,f,d,h,o,i]}class Wa extends xt{constructor(e){super(),Rt(this,e,ja,Ha,it,{name:0,x:1,y:2,viewBox:3,fill:8,width:9,height:10,title:4})}}function Co(t){const e=t-1;return e*e*e+1}function Si(t,{delay:e=0,duration:n=400,easing:r=Aa}={}){const i=+getComputedStyle(t).opacity;return{delay:e,duration:n,easing:r,css:o=>`opacity: ${o*i}`}}function Oi(t,{delay:e=0,duration:n=400,easing:r=Co,x:i=0,y:o=0,opacity:a=0}={}){const s=getComputedStyle(t),u=+s.opacity,l=s.transform==="none"?"":s.transform,c=u*(1-a);return{delay:e,duration:n,easing:r,css:(f,d)=>`
			transform: ${l} translate(${(1-f)*i}px, ${(1-f)*o}px);
			opacity: ${u-c*d}`}}function nr(t){let e,n,r,i,o;const a=t[7].default,s=ho(a,t,t[6],null);let u=[{class:i="gradient-heading "+t[2]},{"data-testid":"gradient-heading"},{role:"heading"}],l={};for(let c=0;c<u.length;c+=1)l=Re(l,u[c]);return{c(){e=z(t[0]),n=z("span"),s&&s.c(),this.h()},l(c){e=F(c,(t[0]||"null").toUpperCase(),{class:!0,"data-testid":!0,role:!0});var f=N(e);n=F(f,"SPAN",{class:!0});var d=N(n);s&&s.l(d),d.forEach(O),f.forEach(O),this.h()},h(){I(n,"class",r="gradient-heading-text "+t[1]),/-/.test(t[0])?bi(e,l):wi(e,l)},m(c,f){H(c,e,f),B(e,n),s&&s.m(n,null),o=!0},p(c,f){s&&s.p&&(!o||f&64)&&po(s,a,c,c[6],o?mo(a,c[6],f,null):vo(c[6]),null),(!o||f&2&&r!==(r="gradient-heading-text "+c[1]))&&I(n,"class",r),l=yo(u,[(!o||f&4&&i!==(i="gradient-heading "+c[2]))&&{class:i},{"data-testid":"gradient-heading"},{role:"heading"}]),/-/.test(c[0])?bi(e,l):wi(e,l)},i(c){o||(U(s,c),o=!0)},o(c){X(s,c),o=!1},d(c){c&&O(e),s&&s.d(c)}}}function Ga(t){let e=t[0],n,r,i=t[0]&&nr(t);return{c(){i&&i.c(),n=Ce()},l(o){i&&i.l(o),n=Ce()},m(o,a){i&&i.m(o,a),H(o,n,a),r=!0},p(o,[a]){o[0]?e?it(e,o[0])?(i.d(1),i=nr(o),i.c(),i.m(n.parentNode,n)):i.p(o,a):(i=nr(o),i.c(),i.m(n.parentNode,n)):e&&(i.d(1),i=null),e=o[0]},i(o){r||(U(i),r=!0)},o(o){X(i),r=!1},d(o){o&&O(n),i&&i.d(o)}}}let Ua="bg-clip-text text-transparent box-decoration-clone";function Ya(t,e,n){let r,i,{$$slots:o={},$$scope:a}=e,{tag:s="h1"}=e,{direction:u="bg-gradient-to-r"}=e,{from:l="from-primary-500"}=e,{to:c="to-accent-500"}=e;return t.$$set=f=>{n(8,e=Re(Re({},e),Je(f))),"tag"in f&&n(0,s=f.tag),"direction"in f&&n(3,u=f.direction),"from"in f&&n(4,l=f.from),"to"in f&&n(5,c=f.to),"$$scope"in f&&n(6,a=f.$$scope)},t.$$.update=()=>{n(2,r=`${e.class??""}`),t.$$.dirty&56&&n(1,i=`${Ua} ${u} ${l} ${c}`)},e=Je(e),[s,i,r,u,l,c,a,o]}class Za extends xt{constructor(e){super(),Rt(this,e,Ya,Ga,it,{tag:0,direction:3,from:4,to:5})}}function Mi(t){let e=t[13],n,r,i=Li(t);return{c(){i.c(),n=Ce()},l(o){i.l(o),n=Ce()},m(o,a){i.m(o,a),H(o,n,a),r=!0},p(o,a){a&8192&&it(e,e=o[13])?(Pt(),X(i,1,1,ge),Lt(),i=Li(o),i.c(),U(i,1),i.m(n.parentNode,n)):i.p(o,a)},i(o){r||(U(i),r=!0)},o(o){X(i),r=!1},d(o){o&&O(n),i.d(o)}}}function xi(t){let e,n=t[13][0].title+"",r;return{c(){e=z("header"),this.h()},l(i){e=F(i,"HEADER",{class:!0});var o=N(e);o.forEach(O),this.h()},h(){I(e,"class",r="modal-header "+t[6])},m(i,o){H(i,e,o),e.innerHTML=n},p(i,o){o&8192&&n!==(n=i[13][0].title+"")&&(e.innerHTML=n),o&64&&r!==(r="modal-header "+i[6])&&I(e,"class",r)},d(i){i&&O(e)}}}function Ri(t){let e,n=t[13][0].body+"",r;return{c(){e=z("article"),this.h()},l(i){e=F(i,"ARTICLE",{class:!0});var o=N(e);o.forEach(O),this.h()},h(){I(e,"class",r="modal-body "+t[7])},m(i,o){H(i,e,o),e.innerHTML=n},p(i,o){o&8192&&n!==(n=i[13][0].body+"")&&(e.innerHTML=n),o&128&&r!==(r="modal-body "+i[7])&&I(e,"class",r)},d(i){i&&O(e)}}}function Pi(t){let e,n;return{c(){e=z("img"),this.h()},l(r){e=F(r,"IMG",{class:!0,src:!0,alt:!0}),this.h()},h(){var r;I(e,"class","modal-image "+ns),Ci(e.src,n=(r=t[13][0])==null?void 0:r.image)||I(e,"src",n),I(e,"alt","Modal")},m(r,i){H(r,e,i)},p(r,i){var o;i&8192&&!Ci(e.src,n=(o=r[13][0])==null?void 0:o.image)&&I(e,"src",n)},d(r){r&&O(e)}}}function Xa(t){var s,u;let e,n,r;const i=[(s=t[13][0].component)==null?void 0:s.props,{parent:t[10]}];var o=(u=t[13][0].component)==null?void 0:u.ref;function a(l){let c={$$slots:{default:[$a]},$$scope:{ctx:l}};for(let f=0;f<i.length;f+=1)c=Re(c,i[f]);return{props:c}}return o&&(e=Di(o,a(t))),{c(){e&&ft(e.$$.fragment),n=Ce()},l(l){e&&Tt(e.$$.fragment,l),n=Ce()},m(l,c){e&&dt(e,l,c),H(l,n,c),r=!0},p(l,c){var d,h;const f=c&9216?yo(i,[c&8192&&Ia((d=l[13][0].component)==null?void 0:d.props),c&1024&&{parent:l[10]}]):{};if(c&536879104&&(f.$$scope={dirty:c,ctx:l}),o!==(o=(h=l[13][0].component)==null?void 0:h.ref)){if(e){Pt();const p=e;X(p.$$.fragment,1,0,()=>{ht(p,1)}),Lt()}o?(e=Di(o,a(l)),ft(e.$$.fragment),U(e.$$.fragment,1),dt(e,n.parentNode,n)):e=null}else o&&e.$set(f)},i(l){r||(e&&U(e.$$.fragment,l),r=!0)},o(l){e&&X(e.$$.fragment,l),r=!1},d(l){l&&O(n),e&&ht(e,l)}}}function qa(t){let e,n,r,i,o,a,s,u,l,c,f,d,h;return{c(){e=z("input"),n=se(),r=z("footer"),i=z("button"),o=ve(t[3]),s=se(),u=z("button"),l=ve(t[5]),this.h()},l(p){e=F(p,"INPUT",{class:!0,type:!0}),n=ue(p),r=F(p,"FOOTER",{class:!0});var v=N(r);i=F(v,"BUTTON",{class:!0});var g=N(i);o=me(g,t[3]),g.forEach(O),s=ue(v),u=F(v,"BUTTON",{class:!0});var b=N(u);l=me(b,t[5]),b.forEach(O),v.forEach(O),this.h()},h(){I(e,"class","modal-prompt-input"),I(e,"type","text"),e.required=!0,I(i,"class",a="btn "+t[1]),I(u,"class",c="btn "+t[2]),I(r,"class",f="modal-footer "+t[8])},m(p,v){H(p,e,v),Ti(e,t[9]),H(p,n,v),H(p,r,v),B(r,i),B(i,o),B(r,s),B(r,u),B(u,l),d||(h=[re(e,"input",t[27]),re(i,"click",t[15]),re(u,"click",t[17])],d=!0)},p(p,v){v&512&&e.value!==p[9]&&Ti(e,p[9]),v&8&&$e(o,p[3]),v&2&&a!==(a="btn "+p[1])&&I(i,"class",a),v&32&&$e(l,p[5]),v&4&&c!==(c="btn "+p[2])&&I(u,"class",c),v&256&&f!==(f="modal-footer "+p[8])&&I(r,"class",f)},i:ge,o:ge,d(p){p&&O(e),p&&O(n),p&&O(r),d=!1,bt(h)}}}function Qa(t){let e,n,r,i,o,a,s,u,l,c,f;return{c(){e=z("footer"),n=z("button"),r=ve(t[3]),o=se(),a=z("button"),s=ve(t[4]),this.h()},l(d){e=F(d,"FOOTER",{class:!0});var h=N(e);n=F(h,"BUTTON",{class:!0});var p=N(n);r=me(p,t[3]),p.forEach(O),o=ue(h),a=F(h,"BUTTON",{class:!0});var v=N(a);s=me(v,t[4]),v.forEach(O),h.forEach(O),this.h()},h(){I(n,"class",i="btn "+t[1]),I(a,"class",u="btn "+t[2]),I(e,"class",l="modal-footer "+t[8])},m(d,h){H(d,e,h),B(e,n),B(n,r),B(e,o),B(e,a),B(a,s),c||(f=[re(n,"click",t[15]),re(a,"click",t[16])],c=!0)},p(d,h){h&8&&$e(r,d[3]),h&2&&i!==(i="btn "+d[1])&&I(n,"class",i),h&16&&$e(s,d[4]),h&4&&u!==(u="btn "+d[2])&&I(a,"class",u),h&256&&l!==(l="modal-footer "+d[8])&&I(e,"class",l)},i:ge,o:ge,d(d){d&&O(e),c=!1,bt(f)}}}function Ja(t){let e,n,r,i,o,a,s;return{c(){e=z("footer"),n=z("button"),r=ve(t[3]),this.h()},l(u){e=F(u,"FOOTER",{class:!0});var l=N(e);n=F(l,"BUTTON",{class:!0});var c=N(n);r=me(c,t[3]),c.forEach(O),l.forEach(O),this.h()},h(){I(n,"class",i="btn "+t[1]),I(e,"class",o="modal-footer "+t[8])},m(u,l){H(u,e,l),B(e,n),B(n,r),a||(s=re(n,"click",t[15]),a=!0)},p(u,l){l&8&&$e(r,u[3]),l&2&&i!==(i="btn "+u[1])&&I(n,"class",i),l&256&&o!==(o="modal-footer "+u[8])&&I(e,"class",o)},i:ge,o:ge,d(u){u&&O(e),a=!1,s()}}}function $a(t){var i;let e,n=((i=t[13][0].component)==null?void 0:i.slot)+"",r;return{c(){e=new ka(!1),r=Ce(),this.h()},l(o){e=Sa(o,!1),r=Ce(),this.h()},h(){e.a=r},m(o,a){e.m(n,o,a),H(o,r,a)},p(o,a){var s;a&8192&&n!==(n=((s=o[13][0].component)==null?void 0:s.slot)+"")&&e.p(n)},d(o){o&&O(r),o&&e.d()}}}function Li(t){var D,S,E,C;let e,n,r,i,o,a,s,u,l,c,f,d,h,p,v,g=((D=t[13][0])==null?void 0:D.title)&&xi(t),b=((S=t[13][0])==null?void 0:S.body)&&Ri(t),m=((E=t[13][0])==null?void 0:E.image)&&typeof((C=t[13][0])==null?void 0:C.image)=="string"&&Pi(t);const y=[Ja,Qa,qa,Xa],_=[];function w(A,M){return A[13][0].type==="alert"?0:A[13][0].type==="confirm"?1:A[13][0].type==="prompt"?2:A[13][0].type==="component"?3:-1}return~(a=w(t))&&(s=_[a]=y[a](t)),{c(){e=z("div"),n=z("div"),g&&g.c(),r=se(),b&&b.c(),i=se(),m&&m.c(),o=se(),s&&s.c(),this.h()},l(A){e=F(A,"DIV",{class:!0,"data-testid":!0});var M=N(e);n=F(M,"DIV",{class:!0,"data-testid":!0,role:!0,"aria-modal":!0,"aria-label":!0});var P=N(n);g&&g.l(P),r=ue(P),b&&b.l(P),i=ue(P),m&&m.l(P),o=ue(P),s&&s.l(P),P.forEach(O),M.forEach(O),this.h()},h(){I(n,"class",u="modal "+t[11]+" "+t[13][0].classes),I(n,"data-testid","modal"),I(n,"role","dialog"),I(n,"aria-modal","true"),I(n,"aria-label",l=t[13][0].title),I(e,"class",f="modal-backdrop "+t[12]),I(e,"data-testid","modal-backdrop")},m(A,M){H(A,e,M),B(e,n),g&&g.m(n,null),B(n,r),b&&b.m(n,null),B(n,i),m&&m.m(n,null),B(n,o),~a&&_[a].m(n,null),h=!0,p||(v=[go(Na.call(null,n,!0)),re(e,"mousedown",t[14]),re(e,"touchstart",t[14])],p=!0)},p(A,M){var L,W,T,$;t=A,(L=t[13][0])!=null&&L.title?g?g.p(t,M):(g=xi(t),g.c(),g.m(n,r)):g&&(g.d(1),g=null),(W=t[13][0])!=null&&W.body?b?b.p(t,M):(b=Ri(t),b.c(),b.m(n,i)):b&&(b.d(1),b=null),(T=t[13][0])!=null&&T.image&&typeof(($=t[13][0])==null?void 0:$.image)=="string"?m?m.p(t,M):(m=Pi(t),m.c(),m.m(n,o)):m&&(m.d(1),m=null);let P=a;a=w(t),a===P?~a&&_[a].p(t,M):(s&&(Pt(),X(_[P],1,1,()=>{_[P]=null}),Lt()),~a?(s=_[a],s?s.p(t,M):(s=_[a]=y[a](t),s.c()),U(s,1),s.m(n,null)):s=null),(!h||M&10240&&u!==(u="modal "+t[11]+" "+t[13][0].classes))&&I(n,"class",u),(!h||M&8192&&l!==(l=t[13][0].title))&&I(n,"aria-label",l),(!h||M&4096&&f!==(f="modal-backdrop "+t[12]))&&I(e,"class",f)},i(A){h||(U(s),Ei(()=>{c||(c=hn(n,Oi,{duration:t[0],opacity:0,y:100},!0)),c.run(1)}),Ei(()=>{d||(d=hn(e,Si,{duration:t[0]},!0)),d.run(1)}),h=!0)},o(A){X(s),c||(c=hn(n,Oi,{duration:t[0],opacity:0,y:100},!1)),c.run(0),d||(d=hn(e,Si,{duration:t[0]},!1)),d.run(0),h=!1},d(A){A&&O(e),g&&g.d(),b&&b.d(),m&&m.d(),~a&&_[a].d(),A&&c&&c.end(),A&&d&&d.end(),p=!1,bt(v)}}}function es(t){let e,n,r,i,o=t[13].length>0&&Mi(t);return{c(){o&&o.c(),e=Ce()},l(a){o&&o.l(a),e=Ce()},m(a,s){o&&o.m(a,s),H(a,e,s),n=!0,r||(i=re(window,"keydown",t[18]),r=!0)},p(a,[s]){a[13].length>0?o?(o.p(a,s),s&8192&&U(o,1)):(o=Mi(a),o.c(),U(o,1),o.m(e.parentNode,e)):o&&(Pt(),X(o,1,1,()=>{o=null}),Lt())},i(a){n||(U(o),n=!0)},o(a){X(o),n=!1},d(a){o&&o.d(a),a&&O(e),r=!1,i()}}}const ts="fixed top-0 left-0 right-0 bottom-0 z-[999] flex justify-center items-center p-4",ns="w-full h-auto";function rs(t,e,n){let r,i,o,a;dr(t,Ye,T=>n(13,a=T));let{duration:s=150}=e,{background:u="bg-surface-100-800-token"}=e,{width:l="w-full max-w-[640px]"}=e,{height:c="h-auto"}=e,{padding:f="p-4"}=e,{spacing:d="space-y-4"}=e,{rounded:h="rounded-container-token"}=e,{shadow:p="shadow-xl"}=e,{buttonNeutral:v="btn-ghost-surface"}=e,{buttonPositive:g="btn-filled-primary"}=e,{buttonTextCancel:b="Cancel"}=e,{buttonTextConfirm:m="Confirm"}=e,{buttonTextSubmit:y="Submit"}=e,{regionBackdrop:_="bg-surface-backdrop-token"}=e,{regionHeader:w="text-2xl font-bold"}=e,{regionBody:D="max-h-[200px] overflow-hidden"}=e,{regionFooter:S="flex justify-end space-x-2"}=e,E;Ye.subscribe(T=>{T.length&&n(9,E=T[0].value)});function C(T){T.target instanceof Element&&T.target.classList.contains("modal-backdrop")&&A()}function A(){a[0].response&&a[0].response(!1),Ye.close()}function M(){a[0].response&&a[0].response(!0),Ye.close()}function P(){a[0].response&&a[0].response(E),Ye.close()}function L(T){a.length&&T.code==="Escape"&&A()}function W(){E=this.value,n(9,E)}return t.$$set=T=>{n(28,e=Re(Re({},e),Je(T))),"duration"in T&&n(0,s=T.duration),"background"in T&&n(19,u=T.background),"width"in T&&n(20,l=T.width),"height"in T&&n(21,c=T.height),"padding"in T&&n(22,f=T.padding),"spacing"in T&&n(23,d=T.spacing),"rounded"in T&&n(24,h=T.rounded),"shadow"in T&&n(25,p=T.shadow),"buttonNeutral"in T&&n(1,v=T.buttonNeutral),"buttonPositive"in T&&n(2,g=T.buttonPositive),"buttonTextCancel"in T&&n(3,b=T.buttonTextCancel),"buttonTextConfirm"in T&&n(4,m=T.buttonTextConfirm),"buttonTextSubmit"in T&&n(5,y=T.buttonTextSubmit),"regionBackdrop"in T&&n(26,_=T.regionBackdrop),"regionHeader"in T&&n(6,w=T.regionHeader),"regionBody"in T&&n(7,D=T.regionBody),"regionFooter"in T&&n(8,S=T.regionFooter)},t.$$.update=()=>{n(12,r=`${ts} ${_} ${e.class||""}`),t.$$.dirty&66584576&&n(11,i=`${u} ${l} ${c} ${f} ${d} ${h} ${p}`),t.$$.dirty&133693950&&n(10,o={background:u,width:l,height:c,padding:f,spacing:d,rounded:h,shadow:p,buttonNeutral:v,buttonPositive:g,buttonTextCancel:b,buttonTextConfirm:m,buttonTextSubmit:y,regionBackdrop:_,regionHeader:w,regionBody:D,regionFooter:S,onClose:A})},e=Je(e),[s,v,g,b,m,y,w,D,S,E,o,i,r,a,C,A,M,P,L,u,l,c,f,d,h,p,_,W]}class is extends xt{constructor(e){super(),Rt(this,e,rs,es,it,{duration:0,background:19,width:20,height:21,padding:22,spacing:23,rounded:24,shadow:25,buttonNeutral:1,buttonPositive:2,buttonTextCancel:3,buttonTextConfirm:4,buttonTextSubmit:5,regionBackdrop:26,regionHeader:6,regionBody:7,regionFooter:8})}}function os(t){let e,n,r,i,o,a,s,u,l;return r=new Wa({props:{name:t[0]===!1?"sun":"moon",class:"lightswitch-icon "+us}}),{c(){e=z("div"),n=z("div"),ft(r.$$.fragment),this.h()},l(c){e=F(c,"DIV",{class:!0,role:!0,"aria-label":!0,"aria-checked":!0,title:!0,tabindex:!0});var f=N(e);n=F(f,"DIV",{class:!0});var d=N(n);Tt(r.$$.fragment,d),d.forEach(O),f.forEach(O),this.h()},h(){I(n,"class",i="lightswitch-thumb "+t[1]),I(e,"class",o="lightswitch "+t[2]),I(e,"role","switch"),I(e,"aria-label","Light Switch"),I(e,"aria-checked",t[0]),I(e,"title",a="Toggle "+(t[0]?"Light":"Dark")+" Mode"),I(e,"tabindex","0")},m(c,f){H(c,e,f),B(e,n),dt(r,n,null),s=!0,u||(l=[re(e,"click",t[3]),re(e,"keydown",ls)],u=!0)},p(c,[f]){const d={};f&1&&(d.name=c[0]===!1?"sun":"moon"),r.$set(d),(!s||f&2&&i!==(i="lightswitch-thumb "+c[1]))&&I(n,"class",i),(!s||f&4&&o!==(o="lightswitch "+c[2]))&&I(e,"class",o),(!s||f&1)&&I(e,"aria-checked",c[0]),(!s||f&1&&a!==(a="Toggle "+(c[0]?"Light":"Dark")+" Mode"))&&I(e,"title",a)},i(c){s||(U(r.$$.fragment,c),s=!0)},o(c){X(r.$$.fragment,c),s=!1},d(c){c&&O(e),ht(r),u=!1,bt(l)}}}const as="inline-block bg-surface-200-700-token ring-[1px] ring-surface-300-600-token ring-inset w-12 h-6 rounded-full cursor-pointer transition-all duration-[100ms]",ss="bg-white dark:bg-black fill-white dark:fill-black w-6 h-6 flex justify-center items-center rounded-full shadow-lg transition-all duration-[100ms] scale-90",us="block w-4 h-4";function ls(t){["Enter","Space"].includes(t.code)&&(t.preventDefault(),t.target.click())}function cs(t,e,n){let r,i,o,a,s;dr(t,pn,f=>n(0,a=f)),dr(t,Ii,f=>n(5,s=f));function u(){const f=window.matchMedia("(prefers-color-scheme: dark)").matches;Ii.set(f)}function l(){const f=document.documentElement.classList;a===void 0&&Ai(pn,a=s,a),a===!0?f.add("dark"):f.remove("dark")}function c(){pn.set(Ai(pn,a=!a,a)),l()}return Oa(()=>{u(),l()}),t.$$set=f=>{n(8,e=Re(Re({},e),Je(f)))},t.$$.update=()=>{t.$$.dirty&1&&n(4,r=a?"translate-x-full":"translate-x-0"),n(2,i=`${as} ${e.class??""}`),t.$$.dirty&16&&n(1,o=`${ss} ${r}`)},e=Je(e),[a,o,i,c,r]}class fs extends xt{constructor(e){super(),Rt(this,e,cs,os,it,{})}}function ds(t,{from:e,to:n},r={}){const i=getComputedStyle(t),o=i.transform==="none"?"":i.transform,[a,s]=i.transformOrigin.split(" ").map(parseFloat),u=e.left+e.width*a/n.width-(n.left+a),l=e.top+e.height*s/n.height-(n.top+s),{delay:c=0,duration:f=h=>Math.sqrt(h)*120,easing:d=Co}=r;return{delay:c,duration:_o(f)?f(Math.sqrt(u*u+l*l)):f,easing:d,css:(h,p)=>{const v=p*u,g=p*l,b=h+p*e.width/n.width,m=h+p*e.height/n.height;return`transform: ${o} translate(${v}px, ${g}px) scale(${b}, ${m});`}}}const hs="finalize",ps="consider";function kt(t,e,n){t.dispatchEvent(new CustomEvent(hs,{detail:{items:e,info:n}}))}function et(t,e,n){t.dispatchEvent(new CustomEvent(ps,{detail:{items:e,info:n}}))}const Gn="draggedEntered",rn="draggedLeft",Un="draggedOverIndex",Yr="draggedLeftDocument",Sn={LEFT_FOR_ANOTHER:"leftForAnother",OUTSIDE_OF_ANY:"outsideOfAny"};function vs(t,e,n){t.dispatchEvent(new CustomEvent(Gn,{detail:{indexObj:e,draggedEl:n}}))}function ms(t,e,n){t.dispatchEvent(new CustomEvent(rn,{detail:{draggedEl:e,type:Sn.LEFT_FOR_ANOTHER,theOtherDz:n}}))}function ys(t,e){t.dispatchEvent(new CustomEvent(rn,{detail:{draggedEl:e,type:Sn.OUTSIDE_OF_ANY}}))}function gs(t,e,n){t.dispatchEvent(new CustomEvent(Un,{detail:{indexObj:e,draggedEl:n}}))}function _s(t){window.dispatchEvent(new CustomEvent(Yr,{detail:{draggedEl:t}}))}const ce={DRAG_STARTED:"dragStarted",DRAGGED_ENTERED:Gn,DRAGGED_ENTERED_ANOTHER:"dragEnteredAnother",DRAGGED_OVER_INDEX:Un,DRAGGED_LEFT:rn,DRAGGED_LEFT_ALL:"draggedLeftAll",DROPPED_INTO_ZONE:"droppedIntoZone",DROPPED_INTO_ANOTHER:"droppedIntoAnother",DROPPED_OUTSIDE_OF_ANY:"droppedOutsideOfAny",DRAG_STOPPED:"dragStopped"},de={POINTER:"pointer",KEYBOARD:"keyboard"},Yn="isDndShadowItem",Zr="data-is-dnd-shadow-item",Xr="id:dnd-shadow-placeholder-0000",bs="dnd-action-dragged-el";let ee="id",pr=0;function Do(){pr++}function To(){if(pr===0)throw new Error("Bug! trying to decrement when there are no dropzones");pr--}const qr=typeof window>"u";function Ao(t){let e;const n=t.getBoundingClientRect(),r=getComputedStyle(t),i=r.transform;if(i){let o,a,s,u;if(i.startsWith("matrix3d("))e=i.slice(9,-1).split(/, /),o=+e[0],a=+e[5],s=+e[12],u=+e[13];else if(i.startsWith("matrix("))e=i.slice(7,-1).split(/, /),o=+e[0],a=+e[3],s=+e[4],u=+e[5];else return n;const l=r.transformOrigin,c=n.x-s-(1-o)*parseFloat(l),f=n.y-u-(1-a)*parseFloat(l.slice(l.indexOf(" ")+1)),d=o?n.width/o:t.offsetWidth,h=a?n.height/a:t.offsetHeight;return{x:c,y:f,width:d,height:h,top:f,right:c+d,bottom:f+h,left:c}}else return n}function Io(t){const e=Ao(t);return{top:e.top+window.scrollY,bottom:e.bottom+window.scrollY,left:e.left+window.scrollX,right:e.right+window.scrollX}}function Qr(t){const e=t.getBoundingClientRect();return{top:e.top+window.scrollY,bottom:e.bottom+window.scrollY,left:e.left+window.scrollX,right:e.right+window.scrollX}}function ko(t){return{x:(t.left+t.right)/2,y:(t.top+t.bottom)/2}}function ws(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function Jr(t,e){return t.y<=e.bottom&&t.y>=e.top&&t.x>=e.left&&t.x<=e.right}function Yt(t){return ko(Qr(t))}function Bi(t,e){const n=Yt(t),r=Io(e);return Jr(n,r)}function Es(t,e){const n=Yt(t),r=Yt(e);return ws(n,r)}function Cs(t){const e=Qr(t);return e.right<0||e.left>document.documentElement.scrollWidth||e.bottom<0||e.top>document.documentElement.scrollHeight}function Ds(t,e){const n=Qr(e);return Jr(t,n)?{top:t.y-n.top,bottom:n.bottom-t.y,left:t.x-n.left,right:Math.min(n.right,document.documentElement.clientWidth)-t.x}:null}let pt;function $r(){pt=new Map}$r();function Ts(t){pt.delete(t)}function As(t){const e=Array.from(t.children).findIndex(n=>n.getAttribute(Zr));if(e>=0)return pt.has(t)||pt.set(t,new Map),pt.get(t).set(e,Io(t.children[e])),e}function Is(t,e){if(!Bi(t,e))return null;const n=e.children;if(n.length===0)return{index:0,isProximityBased:!0};const r=As(e);for(let a=0;a<n.length;a++)if(Bi(t,n[a])){const s=pt.has(e)&&pt.get(e).get(a);return s&&!Jr(Yt(t),s)?{index:r,isProximityBased:!1}:{index:a,isProximityBased:!1}}let i=Number.MAX_VALUE,o;for(let a=0;a<n.length;a++){const s=Es(t,n[a]);s<i&&(i=s,o=a)}return{index:o,isProximityBased:!0}}const Ht=25;function So(){let t;function e(){t={directionObj:void 0,stepPx:0}}e();function n(o){const{directionObj:a,stepPx:s}=t;a&&(o.scrollBy(a.x*s,a.y*s),window.requestAnimationFrame(()=>n(o)))}function r(o){return Ht-o}function i(o,a){if(!a)return!1;const s=Ds(o,a);if(s===null)return e(),!1;const u=!!t.directionObj;let[l,c]=[!1,!1];return a.scrollHeight>a.clientHeight&&(s.bottom<Ht?(l=!0,t.directionObj={x:0,y:1},t.stepPx=r(s.bottom)):s.top<Ht&&(l=!0,t.directionObj={x:0,y:-1},t.stepPx=r(s.top)),!u&&l)||a.scrollWidth>a.clientWidth&&(s.right<Ht?(c=!0,t.directionObj={x:1,y:0},t.stepPx=r(s.right)):s.left<Ht&&(c=!0,t.directionObj={x:-1,y:0},t.stepPx=r(s.left)),!u&&c)?(n(a),!0):(e(),!1)}return{scrollIfNeeded:i,resetScrolling:e}}function rr(t){return JSON.stringify(t,null,2)}function Ki(t){if(!t)throw new Error("cannot get depth of a falsy node");return Oo(t,0)}function Oo(t,e=0){return t.parentElement?Oo(t.parentElement,e+1):e-1}function ks(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!{}.hasOwnProperty.call(e,n)||e[n]!==t[n])return!1;return!0}function Ss(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}const Os=200,Ni=10,{scrollIfNeeded:Ms,resetScrolling:xs}=So();let vr;function Rs(t,e,n=Os){let r,i,o=!1,a;const s=Array.from(e).sort((l,c)=>Ki(c)-Ki(l));function u(){const l=Yt(t),c=Ms(l,r);if(!c&&a&&Math.abs(a.x-l.x)<Ni&&Math.abs(a.y-l.y)<Ni){vr=window.setTimeout(u,n);return}if(Cs(t)){_s(t);return}a=l;let f=!1;for(const d of s){c&&Ts(r);const h=Is(t,d);if(h===null)continue;const{index:p}=h;f=!0,d!==r?(r&&ms(r,t,d),vs(d,h,t),r=d):p!==i&&(gs(d,h,t),i=p);break}!f&&o&&r?(ys(r,t),r=void 0,i=void 0,o=!1):o=!0,vr=window.setTimeout(u,n)}u()}function Ps(){clearTimeout(vr),xs(),$r()}const Ls=300;let On;function Mn(t){const e=t.touches?t.touches[0]:t;On={x:e.clientX,y:e.clientY}}const{scrollIfNeeded:Bs,resetScrolling:Ks}=So();let Mo;function xo(){On&&Bs(On,document.documentElement)&&$r(),Mo=window.setTimeout(xo,Ls)}function Ns(){window.addEventListener("mousemove",Mn),window.addEventListener("touchmove",Mn),xo()}function zs(){window.removeEventListener("mousemove",Mn),window.removeEventListener("touchmove",Mn),On=void 0,window.clearTimeout(Mo),Ks()}function Fs(t){const e=t.cloneNode(!0),n=[],r=t.tagName==="SELECT",i=r?[t]:[...t.querySelectorAll("select")];for(const a of i)n.push(a.value);if(i.length<=0)return e;const o=r?[e]:[...e.querySelectorAll("select")];for(let a=0;a<o.length;a++){const s=o[a],u=n[a],l=s.querySelector(`option[value="${u}"`);l&&l.setAttribute("selected",!0)}return e}const Hs=.2;function at(t){return`${t} ${Hs}s ease`}function Vs(t,e){const n=t.getBoundingClientRect(),r=Fs(t);Ro(t,r),r.id=bs,r.style.position="fixed";let i=n.top,o=n.left;if(r.style.top=`${i}px`,r.style.left=`${o}px`,e){const a=ko(n);i-=a.y-e.y,o-=a.x-e.x,window.setTimeout(()=>{r.style.top=`${i}px`,r.style.left=`${o}px`},0)}return r.style.margin="0",r.style.boxSizing="border-box",r.style.height=`${n.height}px`,r.style.width=`${n.width}px`,r.style.transition=`${at("top")}, ${at("left")}, ${at("background-color")}, ${at("opacity")}, ${at("color")} `,window.setTimeout(()=>r.style.transition+=`, ${at("width")}, ${at("height")}`,0),r.style.zIndex="9999",r.style.cursor="grabbing",r}function js(t){t.style.cursor="grab"}function Ws(t,e,n,r){Ro(e,t);const i=e.getBoundingClientRect(),o=t.getBoundingClientRect(),a=i.width-o.width,s=i.height-o.height;if(a||s){const u={left:(n-o.left)/o.width,top:(r-o.top)/o.height};t.style.height=`${i.height}px`,t.style.width=`${i.width}px`,t.style.left=`${parseFloat(t.style.left)-u.left*a}px`,t.style.top=`${parseFloat(t.style.top)-u.top*s}px`}}function Ro(t,e){const n=window.getComputedStyle(t);Array.from(n).filter(r=>r.startsWith("background")||r.startsWith("padding")||r.startsWith("font")||r.startsWith("text")||r.startsWith("align")||r.startsWith("justify")||r.startsWith("display")||r.startsWith("flex")||r.startsWith("border")||r==="opacity"||r==="color"||r==="list-style-type").forEach(r=>e.style.setProperty(r,n.getPropertyValue(r),n.getPropertyPriority(r)))}function Gs(t,e){t.draggable=!1,t.ondragstart=()=>!1,e?(t.style.userSelect="",t.style.WebkitUserSelect="",t.style.cursor=""):(t.style.userSelect="none",t.style.WebkitUserSelect="none",t.style.cursor="grab")}function Po(t){t.style.display="none",t.style.position="fixed",t.style.zIndex="-5"}function Us(t){t.style.visibility="hidden",t.setAttribute(Zr,"true")}function Ys(t){t.style.visibility="",t.removeAttribute(Zr)}function bn(t,e=()=>{},n=()=>[]){t.forEach(r=>{const i=e(r);Object.keys(i).forEach(o=>{r.style[o]=i[o]}),n(r).forEach(o=>r.classList.add(o))})}function xn(t,e=()=>{},n=()=>[]){t.forEach(r=>{const i=e(r);Object.keys(i).forEach(o=>{r.style[o]=""}),n(r).forEach(o=>r.classList.contains(o)&&r.classList.remove(o))})}function Zs(t){const e=t.style.minHeight;t.style.minHeight=window.getComputedStyle(t).getPropertyValue("height");const n=t.style.minWidth;return t.style.minWidth=window.getComputedStyle(t).getPropertyValue("width"),function(){t.style.minHeight=e,t.style.minWidth=n}}const Xs="--any--",qs=100,zi=3,Fi={outline:"rgba(255, 255, 102, 0.7) solid 2px"};let Be,ne,ye,Zn,q,Xn,St,pe,Ze,we,ut=!1,ei=!1,ti,on=!1,wn=[];const Ie=new Map,Z=new Map,ir=new WeakMap;function Qs(t,e){Ie.has(e)||Ie.set(e,new Set),Ie.get(e).has(t)||(Ie.get(e).add(t),Do())}function Hi(t,e){Ie.get(e).delete(t),To(),Ie.get(e).size===0&&Ie.delete(e)}function Js(){Ns();const t=Ie.get(Zn);for(const n of t)n.addEventListener(Gn,Lo),n.addEventListener(rn,Bo),n.addEventListener(Un,Ko);window.addEventListener(Yr,Ot);const e=Math.max(qs,...Array.from(t.keys()).map(n=>Z.get(n).dropAnimationDurationMs));Rs(ne,t,e*1.07)}function $s(){zs();const t=Ie.get(Zn);for(const e of t)e.removeEventListener(Gn,Lo),e.removeEventListener(rn,Bo),e.removeEventListener(Un,Ko);window.removeEventListener(Yr,Ot),Ps()}function eu(t){return t.findIndex(e=>e[ee]===Xr)}function qn(t){return t.findIndex(e=>!!e[Yn]&&e[ee]!==Xr)}function Lo(t){let{items:e,dropFromOthersDisabled:n}=Z.get(t.currentTarget);if(n&&t.currentTarget!==q)return;if(on=!1,e=e.filter(a=>a[ee]!==St[ee]),q!==t.currentTarget){const s=Z.get(q).items.filter(u=>!u[Yn]);et(q,s,{trigger:ce.DRAGGED_ENTERED_ANOTHER,id:ye[ee],source:de.POINTER})}else{const a=eu(e);a!==-1&&e.splice(a,1)}const{index:r,isProximityBased:i}=t.detail.indexObj,o=i&&r===t.currentTarget.children.length-1?r+1:r;pe=t.currentTarget,e.splice(o,0,St),et(t.currentTarget,e,{trigger:ce.DRAGGED_ENTERED,id:ye[ee],source:de.POINTER})}function Bo(t){if(!ut)return;const{items:e,dropFromOthersDisabled:n}=Z.get(t.currentTarget);if(n&&t.currentTarget!==q&&t.currentTarget!==pe)return;const r=qn(e),i=e.splice(r,1)[0];pe=void 0;const{type:o,theOtherDz:a}=t.detail;if(o===Sn.OUTSIDE_OF_ANY||o===Sn.LEFT_FOR_ANOTHER&&a!==q&&Z.get(a).dropFromOthersDisabled){on=!0,pe=q;const s=Z.get(q).items;s.splice(Xn,0,i),et(q,s,{trigger:ce.DRAGGED_LEFT_ALL,id:ye[ee],source:de.POINTER})}et(t.currentTarget,e,{trigger:ce.DRAGGED_LEFT,id:ye[ee],source:de.POINTER})}function Ko(t){const{items:e,dropFromOthersDisabled:n}=Z.get(t.currentTarget);if(n&&t.currentTarget!==q)return;on=!1;const{index:r}=t.detail.indexObj,i=qn(e);e.splice(i,1),e.splice(r,0,St),et(t.currentTarget,e,{trigger:ce.DRAGGED_OVER_INDEX,id:ye[ee],source:de.POINTER})}function Rn(t){t.preventDefault();const e=t.touches?t.touches[0]:t;we={x:e.clientX,y:e.clientY},ne.style.transform=`translate3d(${we.x-Ze.x}px, ${we.y-Ze.y}px, 0)`}function Ot(){ei=!0,window.removeEventListener("mousemove",Rn),window.removeEventListener("touchmove",Rn),window.removeEventListener("mouseup",Ot),window.removeEventListener("touchend",Ot),$s(),js(ne),pe||(pe=q);let{items:t,type:e}=Z.get(pe);xn(Ie.get(e),i=>Z.get(i).dropTargetStyle,i=>Z.get(i).dropTargetClasses);let n=qn(t);n===-1&&(n=Xn),t=t.map(i=>i[Yn]?ye:i);function r(){ti(),kt(pe,t,{trigger:on?ce.DROPPED_OUTSIDE_OF_ANY:ce.DROPPED_INTO_ZONE,id:ye[ee],source:de.POINTER}),pe!==q&&kt(q,Z.get(q).items,{trigger:ce.DROPPED_INTO_ANOTHER,id:ye[ee],source:de.POINTER}),Ys(pe.children[n]),ru()}tu(n,r)}function tu(t,e){const n=Ao(pe.children[t]),r={x:n.left-parseFloat(ne.style.left),y:n.top-parseFloat(ne.style.top)},{dropAnimationDurationMs:i}=Z.get(pe),o=`transform ${i}ms ease`;ne.style.transition=ne.style.transition?ne.style.transition+","+o:o,ne.style.transform=`translate3d(${r.x}px, ${r.y}px, 0)`,window.setTimeout(e,i)}function nu(t,e){wn.push({dz:t,destroy:e}),window.requestAnimationFrame(()=>{Po(t),document.body.appendChild(t)})}function ru(){ne.remove(),Be.remove(),wn.length&&(wn.forEach(({dz:t,destroy:e})=>{e(),t.remove()}),wn=[]),ne=void 0,Be=void 0,ye=void 0,Zn=void 0,q=void 0,Xn=void 0,St=void 0,pe=void 0,Ze=void 0,we=void 0,ut=!1,ei=!1,ti=void 0,on=!1}function iu(t,e){let n=!1;const r={items:void 0,type:void 0,flipDurationMs:0,dragDisabled:!1,morphDisabled:!1,dropFromOthersDisabled:!1,dropTargetStyle:Fi,dropTargetClasses:[],transformDraggedElement:()=>{},centreDraggedOnCursor:!1};let i=new Map;function o(){window.addEventListener("mousemove",u,{passive:!1}),window.addEventListener("touchmove",u,{passive:!1,capture:!1}),window.addEventListener("mouseup",s,{passive:!1}),window.addEventListener("touchend",s,{passive:!1})}function a(){window.removeEventListener("mousemove",u),window.removeEventListener("touchmove",u),window.removeEventListener("mouseup",s),window.removeEventListener("touchend",s)}function s(){a(),Be=void 0,Ze=void 0,we=void 0}function u(d){d.preventDefault();const h=d.touches?d.touches[0]:d;we={x:h.clientX,y:h.clientY},(Math.abs(we.x-Ze.x)>=zi||Math.abs(we.y-Ze.y)>=zi)&&(a(),c())}function l(d){if(d.target!==d.currentTarget&&(d.target.value!==void 0||d.target.isContentEditable)||d.button||ut)return;d.stopPropagation();const h=d.touches?d.touches[0]:d;Ze={x:h.clientX,y:h.clientY},we={...Ze},Be=d.currentTarget,o()}function c(){ut=!0;const d=i.get(Be);Xn=d,q=Be.parentElement;const h=q.getRootNode(),p=h.body||h,{items:v,type:g,centreDraggedOnCursor:b}=r;ye={...v[d]},Zn=g,St={...ye,[Yn]:!0};const m={...St,[ee]:Xr};ne=Vs(Be,b&&we);function y(){ne.parentElement?window.requestAnimationFrame(y):(p.appendChild(ne),ne.focus(),Js(),Po(Be),p.appendChild(Be))}window.requestAnimationFrame(y),bn(Array.from(Ie.get(r.type)).filter(_=>_===q||!Z.get(_).dropFromOthersDisabled),_=>Z.get(_).dropTargetStyle,_=>Z.get(_).dropTargetClasses),v.splice(d,1,m),ti=Zs(q),et(q,v,{trigger:ce.DRAG_STARTED,id:ye[ee],source:de.POINTER}),window.addEventListener("mousemove",Rn,{passive:!1}),window.addEventListener("touchmove",Rn,{passive:!1,capture:!1}),window.addEventListener("mouseup",Ot,{passive:!1}),window.addEventListener("touchend",Ot,{passive:!1})}function f({items:d=void 0,flipDurationMs:h=0,type:p=Xs,dragDisabled:v=!1,morphDisabled:g=!1,dropFromOthersDisabled:b=!1,dropTargetStyle:m=Fi,dropTargetClasses:y=[],transformDraggedElement:_=()=>{},centreDraggedOnCursor:w=!1}){r.dropAnimationDurationMs=h,r.type&&p!==r.type&&Hi(t,r.type),r.type=p,Qs(t,p),r.items=[...d],r.dragDisabled=v,r.morphDisabled=g,r.transformDraggedElement=_,r.centreDraggedOnCursor=w,n&&ut&&!ei&&(!ks(m,r.dropTargetStyle)||!Ss(y,r.dropTargetClasses))&&(xn([t],()=>r.dropTargetStyle,()=>y),bn([t],()=>m,()=>y)),r.dropTargetStyle=m,r.dropTargetClasses=[...y];function D(E,C){return Z.get(E)?Z.get(E)[C]:r[C]}n&&ut&&r.dropFromOthersDisabled!==b&&(b?xn([t],E=>D(E,"dropTargetStyle"),E=>D(E,"dropTargetClasses")):bn([t],E=>D(E,"dropTargetStyle"),E=>D(E,"dropTargetClasses"))),r.dropFromOthersDisabled=b,Z.set(t,r);const S=qn(r.items);for(let E=0;E<t.children.length;E++){const C=t.children[E];if(Gs(C,v),E===S){r.transformDraggedElement(ne,ye,E),g||Ws(ne,C,we.x,we.y),Us(C);continue}C.removeEventListener("mousedown",ir.get(C)),C.removeEventListener("touchstart",ir.get(C)),v||(C.addEventListener("mousedown",l),C.addEventListener("touchstart",l),ir.set(C,l)),i.set(C,E),n||(n=!0)}}return f(e),{update:d=>{f(d)},destroy:()=>{function d(){Hi(t,Z.get(t).type),Z.delete(t)}ut?nu(t,d):d()}}}const mr={DND_ZONE_ACTIVE:"dnd-zone-active",DND_ZONE_DRAG_DISABLED:"dnd-zone-drag-disabled"},No={[mr.DND_ZONE_ACTIVE]:"Tab to one the items and press space-bar or enter to start dragging it",[mr.DND_ZONE_DRAG_DISABLED]:"This is a disabled drag and drop list"},ou="dnd-action-aria-alert";let Y;function yr(){Y||(Y=document.createElement("div"),function(){Y.id=ou,Y.style.position="fixed",Y.style.bottom="0",Y.style.left="0",Y.style.zIndex="-5",Y.style.opacity="0",Y.style.height="0",Y.style.width="0",Y.setAttribute("role","alert")}(),document.body.prepend(Y),Object.entries(No).forEach(([t,e])=>document.body.prepend(uu(t,e))))}function au(){return qr?null:(document.readyState==="complete"?yr():window.addEventListener("DOMContentLoaded",yr),{...mr})}function su(){qr||!Y||(Object.keys(No).forEach(t=>{var e;return(e=document.getElementById(t))==null?void 0:e.remove()}),Y.remove(),Y=void 0)}function uu(t,e){const n=document.createElement("div");return n.id=t,n.innerHTML=`<p>${e}</p>`,n.style.display="none",n.style.position="fixed",n.style.zIndex="-5",n}function At(t){if(qr)return;Y||yr(),Y.innerHTML="";const e=document.createTextNode(t);Y.appendChild(e),Y.style.display="none",Y.style.display="inline"}const lu="--any--",Vi={outline:"rgba(255, 255, 102, 0.7) solid 2px"};let Ee=!1,gr,ie,vt="",st,xe,Xe="";const Pn=new WeakSet,ji=new WeakMap,Wi=new WeakMap,_r=new Map,te=new Map,Ae=new Map;let Ln;function cu(t,e){Ae.size===0&&(Ln=au(),window.addEventListener("keydown",zo),window.addEventListener("click",Fo)),Ae.has(e)||Ae.set(e,new Set),Ae.get(e).has(t)||(Ae.get(e).add(t),Do())}function Gi(t,e){ie===t&&Zt(),Ae.get(e).delete(t),To(),Ae.get(e).size===0&&Ae.delete(e),Ae.size===0&&(window.removeEventListener("keydown",zo),window.removeEventListener("click",Fo),Ln=void 0,su())}function zo(t){if(Ee)switch(t.key){case"Escape":{Zt();break}}}function Fo(){Ee&&(Pn.has(document.activeElement)||Zt())}function fu(t){if(!Ee)return;const e=t.currentTarget;if(e===ie)return;vt=e.getAttribute("aria-label")||"";const{items:n}=te.get(ie),r=n.find(l=>l[ee]===xe),i=n.indexOf(r),o=n.splice(i,1)[0],{items:a,autoAriaDisabled:s}=te.get(e);e.getBoundingClientRect().top<ie.getBoundingClientRect().top||e.getBoundingClientRect().left<ie.getBoundingClientRect().left?(a.push(o),s||At(`Moved item ${Xe} to the end of the list ${vt}`)):(a.unshift(o),s||At(`Moved item ${Xe} to the beginning of the list ${vt}`)),kt(ie,n,{trigger:ce.DROPPED_INTO_ANOTHER,id:xe,source:de.KEYBOARD}),kt(e,a,{trigger:ce.DROPPED_INTO_ZONE,id:xe,source:de.KEYBOARD}),ie=e}function Ho(){_r.forEach(({update:t},e)=>t(te.get(e)))}function Zt(t=!0){te.get(ie).autoAriaDisabled||At(`Stopped dragging item ${Xe}`),Pn.has(document.activeElement)&&document.activeElement.blur(),t&&et(ie,te.get(ie).items,{trigger:ce.DRAG_STOPPED,id:xe,source:de.KEYBOARD}),xn(Ae.get(gr),e=>te.get(e).dropTargetStyle,e=>te.get(e).dropTargetClasses),st=null,xe=null,Xe="",gr=null,ie=null,vt="",Ee=!1,Ho()}function du(t,e){const n={items:void 0,type:void 0,dragDisabled:!1,zoneTabIndex:0,dropFromOthersDisabled:!1,dropTargetStyle:Vi,dropTargetClasses:[],autoAriaDisabled:!1};function r(c,f,d){c.length<=1||c.splice(d,1,c.splice(f,1,c[d])[0])}function i(c){switch(c.key){case"Enter":case" ":{if((c.target.disabled!==void 0||c.target.href||c.target.isContentEditable)&&!Pn.has(c.target))return;c.preventDefault(),c.stopPropagation(),Ee?Zt():o(c);break}case"ArrowDown":case"ArrowRight":{if(!Ee)return;c.preventDefault(),c.stopPropagation();const{items:f}=te.get(t),d=Array.from(t.children),h=d.indexOf(c.currentTarget);h<d.length-1&&(n.autoAriaDisabled||At(`Moved item ${Xe} to position ${h+2} in the list ${vt}`),r(f,h,h+1),kt(t,f,{trigger:ce.DROPPED_INTO_ZONE,id:xe,source:de.KEYBOARD}));break}case"ArrowUp":case"ArrowLeft":{if(!Ee)return;c.preventDefault(),c.stopPropagation();const{items:f}=te.get(t),h=Array.from(t.children).indexOf(c.currentTarget);h>0&&(n.autoAriaDisabled||At(`Moved item ${Xe} to position ${h} in the list ${vt}`),r(f,h,h-1),kt(t,f,{trigger:ce.DROPPED_INTO_ZONE,id:xe,source:de.KEYBOARD}));break}}}function o(c){s(c.currentTarget),ie=t,gr=n.type,Ee=!0;const f=Array.from(Ae.get(n.type)).filter(d=>d===ie||!te.get(d).dropFromOthersDisabled);if(bn(f,d=>te.get(d).dropTargetStyle,d=>te.get(d).dropTargetClasses),!n.autoAriaDisabled){let d=`Started dragging item ${Xe}. Use the arrow keys to move it within its list ${vt}`;f.length>1&&(d+=", or tab to another list in order to move the item into it"),At(d)}et(t,te.get(t).items,{trigger:ce.DRAG_STARTED,id:xe,source:de.KEYBOARD}),Ho()}function a(c){Ee&&c.currentTarget!==st&&(c.stopPropagation(),Zt(!1),o(c))}function s(c){const{items:f}=te.get(t),d=Array.from(t.children),h=d.indexOf(c);st=c,st.tabIndex=0,xe=f[h][ee],Xe=d[h].getAttribute("aria-label")||""}function u({items:c=[],type:f=lu,dragDisabled:d=!1,zoneTabIndex:h=0,dropFromOthersDisabled:p=!1,dropTargetStyle:v=Vi,dropTargetClasses:g=[],autoAriaDisabled:b=!1}){n.items=[...c],n.dragDisabled=d,n.dropFromOthersDisabled=p,n.zoneTabIndex=h,n.dropTargetStyle=v,n.dropTargetClasses=g,n.autoAriaDisabled=b,n.type&&f!==n.type&&Gi(t,n.type),n.type=f,cu(t,f),b||(t.setAttribute("aria-disabled",d),t.setAttribute("role","list"),t.setAttribute("aria-describedby",d?Ln.DND_ZONE_DRAG_DISABLED:Ln.DND_ZONE_ACTIVE)),te.set(t,n),Ee?t.tabIndex=t===ie||st.contains(t)||n.dropFromOthersDisabled||ie&&n.type!==te.get(ie).type?-1:0:t.tabIndex=n.zoneTabIndex,t.addEventListener("focus",fu);for(let m=0;m<t.children.length;m++){const y=t.children[m];Pn.add(y),y.tabIndex=Ee?-1:0,b||y.setAttribute("role","listitem"),y.removeEventListener("keydown",ji.get(y)),y.removeEventListener("click",Wi.get(y)),d||(y.addEventListener("keydown",i),ji.set(y,i),y.addEventListener("click",a),Wi.set(y,a)),Ee&&n.items[m][ee]===xe&&(st=y,st.tabIndex=0,y.focus())}}u(e);const l={update:c=>{u(c)},destroy:()=>{Gi(t,n.type),te.delete(t),_r.delete(t)}};return _r.set(t,l),l}function hu(t,e){Ui(e);const n=iu(t,e),r=du(t,e);return{update:i=>{Ui(i),n.update(i),r.update(i)},destroy:()=>{n.destroy(),r.destroy()}}}function Ui(t){const{items:e,flipDurationMs:n,type:r,dragDisabled:i,morphDisabled:o,dropFromOthersDisabled:a,zoneTabIndex:s,dropTargetStyle:u,dropTargetClasses:l,transformDraggedElement:c,autoAriaDisabled:f,centreDraggedOnCursor:d,...h}=t;if(Object.keys(h).length>0&&console.warn("dndzone will ignore unknown options",h),!e)throw new Error("no 'items' key provided to dndzone");const p=e.find(v=>!{}.hasOwnProperty.call(v,ee));if(p)throw new Error(`missing '${ee}' property for item ${rr(p)}`);if(l&&!Array.isArray(l))throw new Error(`dropTargetClasses should be an array but instead it is a ${typeof l}, ${rr(l)}`);if(s&&!pu(s))throw new Error(`zoneTabIndex should be a number but instead it is a ${typeof s}, ${rr(s)}`)}function pu(t){return!isNaN(t)&&function(e){return(e|0)===e}(parseFloat(t))}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.
Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.
THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var K=function(){return K=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},K.apply(this,arguments)};function br(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}var j=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Q=Object.keys,ae=Array.isArray;typeof Promise<"u"&&!j.Promise&&(j.Promise=Promise);function fe(t,e){return typeof e!="object"||Q(e).forEach(function(n){t[n]=e[n]}),t}var Xt=Object.getPrototypeOf,vu={}.hasOwnProperty;function _e(t,e){return vu.call(t,e)}function Mt(t,e){typeof e=="function"&&(e=e(Xt(t))),(typeof Reflect>"u"?Q:Reflect.ownKeys)(e).forEach(function(n){He(t,n,e[n])})}var Vo=Object.defineProperty;function He(t,e,n,r){Vo(t,e,fe(n&&_e(n,"get")&&typeof n.get=="function"?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},r))}function Bt(t){return{from:function(e){return t.prototype=Object.create(e.prototype),He(t.prototype,"constructor",t),{extend:Mt.bind(null,t.prototype)}}}}var mu=Object.getOwnPropertyDescriptor;function ni(t,e){var n=mu(t,e),r;return n||(r=Xt(t))&&ni(r,e)}var yu=[].slice;function Qn(t,e,n){return yu.call(t,e,n)}function jo(t,e){return e(t)}function Vt(t){if(!t)throw new Error("Assertion Failed")}function Wo(t){j.setImmediate?setImmediate(t):setTimeout(t,0)}function Go(t,e){return t.reduce(function(n,r,i){var o=e(r,i);return o&&(n[o[0]]=o[1]),n},{})}function gu(t,e,n){try{t.apply(null,n)}catch(r){e&&e(r)}}function Fe(t,e){if(_e(t,e))return t[e];if(!e)return t;if(typeof e!="string"){for(var n=[],r=0,i=e.length;r<i;++r){var o=Fe(t,e[r]);n.push(o)}return n}var a=e.indexOf(".");if(a!==-1){var s=t[e.substr(0,a)];return s===void 0?void 0:Fe(s,e.substr(a+1))}}function ke(t,e,n){if(!(!t||e===void 0)&&!("isFrozen"in Object&&Object.isFrozen(t)))if(typeof e!="string"&&"length"in e){Vt(typeof n!="string"&&"length"in n);for(var r=0,i=e.length;r<i;++r)ke(t,e[r],n[r])}else{var o=e.indexOf(".");if(o!==-1){var a=e.substr(0,o),s=e.substr(o+1);if(s==="")n===void 0?ae(t)&&!isNaN(parseInt(a))?t.splice(a,1):delete t[a]:t[a]=n;else{var u=t[a];(!u||!_e(t,a))&&(u=t[a]={}),ke(u,s,n)}}else n===void 0?ae(t)&&!isNaN(parseInt(e))?t.splice(e,1):delete t[e]:t[e]=n}}function _u(t,e){typeof e=="string"?ke(t,e,void 0):"length"in e&&[].map.call(e,function(n){ke(t,n,void 0)})}function Uo(t){var e={};for(var n in t)_e(t,n)&&(e[n]=t[n]);return e}var bu=[].concat;function Yo(t){return bu.apply([],t)}var Zo="Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(Yo([8,16,32,64].map(function(t){return["Int","Uint","Float"].map(function(e){return e+t+"Array"})}))).filter(function(t){return j[t]}),wu=Zo.map(function(t){return j[t]});Go(Zo,function(t){return[t,!0]});var Ue=null;function an(t){Ue=typeof WeakMap<"u"&&new WeakMap;var e=wr(t);return Ue=null,e}function wr(t){if(!t||typeof t!="object")return t;var e=Ue&&Ue.get(t);if(e)return e;if(ae(t)){e=[],Ue&&Ue.set(t,e);for(var n=0,r=t.length;n<r;++n)e.push(wr(t[n]))}else if(wu.indexOf(t.constructor)>=0)e=t;else{var i=Xt(t);e=i===Object.prototype?{}:Object.create(i),Ue&&Ue.set(t,e);for(var o in t)_e(t,o)&&(e[o]=wr(t[o]))}return e}var Eu={}.toString;function Er(t){return Eu.call(t).slice(8,-1)}var Cr=typeof Symbol<"u"?Symbol.iterator:"@@iterator",Cu=typeof Cr=="symbol"?function(t){var e;return t!=null&&(e=t[Cr])&&e.apply(t)}:function(){return null},Dt={};function Ne(t){var e,n,r,i;if(arguments.length===1){if(ae(t))return t.slice();if(this===Dt&&typeof t=="string")return[t];if(i=Cu(t)){for(n=[];r=i.next(),!r.done;)n.push(r.value);return n}if(t==null)return[t];if(e=t.length,typeof e=="number"){for(n=new Array(e);e--;)n[e]=t[e];return n}return[t]}for(e=arguments.length,n=new Array(e);e--;)n[e]=arguments[e];return n}var ri=typeof Symbol<"u"?function(t){return t[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},Pe=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Xo(t,e){Pe=t,qo=e}var qo=function(){return!0},Du=!new Error("").stack;function wt(){if(Du)try{throw wt.arguments,new Error}catch(t){return t}return new Error}function Dr(t,e){var n=t.stack;return n?(e=e||0,n.indexOf(t.name)===0&&(e+=(t.name+t.message).split(`
`).length),n.split(`
`).slice(e).filter(qo).map(function(r){return`
`+r}).join("")):""}var Tu=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"],Qo=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],ii=Tu.concat(Qo),Au={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Kt(t,e){this._e=wt(),this.name=t,this.message=e}Bt(Kt).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+Dr(this._e,2))}},toString:function(){return this.name+": "+this.message}});function Jo(t,e){return t+". Errors: "+Object.keys(e).map(function(n){return e[n].toString()}).filter(function(n,r,i){return i.indexOf(n)===r}).join(`
`)}function Bn(t,e,n,r){this._e=wt(),this.failures=e,this.failedKeys=r,this.successCount=n,this.message=Jo(t,e)}Bt(Bn).from(Kt);function Wt(t,e){this._e=wt(),this.name="BulkError",this.failures=Object.keys(e).map(function(n){return e[n]}),this.failuresByPos=e,this.message=Jo(t,e)}Bt(Wt).from(Kt);var oi=ii.reduce(function(t,e){return t[e]=e+"Error",t},{}),Iu=Kt,R=ii.reduce(function(t,e){var n=e+"Error";function r(i,o){this._e=wt(),this.name=n,i?typeof i=="string"?(this.message=""+i+(o?`
 `+o:""),this.inner=o||null):typeof i=="object"&&(this.message=i.name+" "+i.message,this.inner=i):(this.message=Au[e]||n,this.inner=null)}return Bt(r).from(Iu),t[e]=r,t},{});R.Syntax=SyntaxError;R.Type=TypeError;R.Range=RangeError;var Yi=Qo.reduce(function(t,e){return t[e+"Error"]=R[e],t},{});function ku(t,e){if(!t||t instanceof Kt||t instanceof TypeError||t instanceof SyntaxError||!t.name||!Yi[t.name])return t;var n=new Yi[t.name](e||t.message,t);return"stack"in t&&He(n,"stack",{get:function(){return this.inner.stack}}),n}var Jn=ii.reduce(function(t,e){return["Syntax","Type","Range"].indexOf(e)===-1&&(t[e+"Error"]=R[e]),t},{});Jn.ModifyError=Bn;Jn.DexieError=Kt;Jn.BulkError=Wt;function V(){}function sn(t){return t}function Su(t,e){return t==null||t===sn?e:function(n){return e(t(n))}}function gt(t,e){return function(){t.apply(this,arguments),e.apply(this,arguments)}}function Ou(t,e){return t===V?e:function(){var n=t.apply(this,arguments);n!==void 0&&(arguments[0]=n);var r=this.onsuccess,i=this.onerror;this.onsuccess=null,this.onerror=null;var o=e.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?gt(r,this.onsuccess):r),i&&(this.onerror=this.onerror?gt(i,this.onerror):i),o!==void 0?o:n}}function Mu(t,e){return t===V?e:function(){t.apply(this,arguments);var n=this.onsuccess,r=this.onerror;this.onsuccess=this.onerror=null,e.apply(this,arguments),n&&(this.onsuccess=this.onsuccess?gt(n,this.onsuccess):n),r&&(this.onerror=this.onerror?gt(r,this.onerror):r)}}function xu(t,e){return t===V?e:function(n){var r=t.apply(this,arguments);fe(n,r);var i=this.onsuccess,o=this.onerror;this.onsuccess=null,this.onerror=null;var a=e.apply(this,arguments);return i&&(this.onsuccess=this.onsuccess?gt(i,this.onsuccess):i),o&&(this.onerror=this.onerror?gt(o,this.onerror):o),r===void 0?a===void 0?void 0:a:fe(r,a)}}function Ru(t,e){return t===V?e:function(){return e.apply(this,arguments)===!1?!1:t.apply(this,arguments)}}function ai(t,e){return t===V?e:function(){var n=t.apply(this,arguments);if(n&&typeof n.then=="function"){for(var r=this,i=arguments.length,o=new Array(i);i--;)o[i]=arguments[i];return n.then(function(){return e.apply(r,o)})}return e.apply(this,arguments)}}var qt={},Pu=100,Lu=20,$o=100,si=typeof Promise>"u"?[]:function(){var t=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[t,Xt(t),t];var e=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[e,Xt(e),t]}(),Tr=si[0],Kn=si[1],Ar=si[2],ea=Kn&&Kn.then,En=Tr&&Tr.constructor,ui=!!Ar,Ir=!1,Bu=Ar?function(){Ar.then(vn)}:j.setImmediate?setImmediate.bind(null,vn):j.MutationObserver?function(){var t=document.createElement("div");new MutationObserver(function(){vn(),t=null}).observe(t,{attributes:!0}),t.setAttribute("i","1")}:function(){setTimeout(vn,0)},Qt=function(t,e){jt.push([t,e]),Nn&&(Bu(),Nn=!1)},kr=!0,Nn=!0,mt=[],Cn=[],Sr=null,Or=sn,It={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:qi,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach(function(t){try{qi(t[0],t[1])}catch{}})}},x=It,jt=[],yt=0,Dn=[];function k(t){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=V,this._lib=!1;var e=this._PSD=x;if(Pe&&(this._stackHolder=wt(),this._prev=null,this._numPrev=0),typeof t!="function"){if(t!==qt)throw new TypeError("Not a function");this._state=arguments[1],this._value=arguments[2],this._state===!1&&xr(this,this._value);return}this._state=null,this._value=null,++e.ref,na(this,t)}var Mr={get:function(){var t=x,e=zn;function n(r,i){var o=this,a=!t.global&&(t!==x||e!==zn),s=a&&!Ve(),u=new k(function(l,c){li(o,new ta(Hn(r,t,a,s),Hn(i,t,a,s),l,c,t))});return Pe&&oa(u,this),u}return n.prototype=qt,n},set:function(t){He(this,"then",t&&t.prototype===qt?Mr:{get:function(){return t},set:Mr.set})}};Mt(k.prototype,{then:Mr,_then:function(t,e){li(this,new ta(null,null,t,e,x))},catch:function(t){if(arguments.length===1)return this.then(null,t);var e=arguments[0],n=arguments[1];return typeof e=="function"?this.then(null,function(r){return r instanceof e?n(r):Tn(r)}):this.then(null,function(r){return r&&r.name===e?n(r):Tn(r)})},finally:function(t){return this.then(function(e){return t(),e},function(e){return t(),Tn(e)})},stack:{get:function(){if(this._stack)return this._stack;try{Ir=!0;var t=ia(this,[],Lu),e=t.join(`
From previous: `);return this._state!==null&&(this._stack=e),e}finally{Ir=!1}}},timeout:function(t,e){var n=this;return t<1/0?new k(function(r,i){var o=setTimeout(function(){return i(new R.Timeout(e))},t);n.then(r,i).finally(clearTimeout.bind(null,o))}):this}});typeof Symbol<"u"&&Symbol.toStringTag&&He(k.prototype,Symbol.toStringTag,"Dexie.Promise");It.env=aa();function ta(t,e,n,r,i){this.onFulfilled=typeof t=="function"?t:null,this.onRejected=typeof e=="function"?e:null,this.resolve=n,this.reject=r,this.psd=i}Mt(k,{all:function(){var t=Ne.apply(null,arguments).map(Fn);return new k(function(e,n){t.length===0&&e([]);var r=t.length;t.forEach(function(i,o){return k.resolve(i).then(function(a){t[o]=a,--r||e(t)},n)})})},resolve:function(t){if(t instanceof k)return t;if(t&&typeof t.then=="function")return new k(function(n,r){t.then(n,r)});var e=new k(qt,!0,t);return oa(e,Sr),e},reject:Tn,race:function(){var t=Ne.apply(null,arguments).map(Fn);return new k(function(e,n){t.map(function(r){return k.resolve(r).then(e,n)})})},PSD:{get:function(){return x},set:function(t){return x=t}},totalEchoes:{get:function(){return zn}},newPSD:tt,usePSD:zt,scheduler:{get:function(){return Qt},set:function(t){Qt=t}},rejectionMapper:{get:function(){return Or},set:function(t){Or=t}},follow:function(t,e){return new k(function(n,r){return tt(function(i,o){var a=x;a.unhandleds=[],a.onunhandled=o,a.finalize=gt(function(){var s=this;Nu(function(){s.unhandleds.length===0?i():o(s.unhandleds[0])})},a.finalize),t()},e,n,r)})}});En&&(En.allSettled&&He(k,"allSettled",function(){var t=Ne.apply(null,arguments).map(Fn);return new k(function(e){t.length===0&&e([]);var n=t.length,r=new Array(n);t.forEach(function(i,o){return k.resolve(i).then(function(a){return r[o]={status:"fulfilled",value:a}},function(a){return r[o]={status:"rejected",reason:a}}).then(function(){return--n||e(r)})})})}),En.any&&typeof AggregateError<"u"&&He(k,"any",function(){var t=Ne.apply(null,arguments).map(Fn);return new k(function(e,n){t.length===0&&n(new AggregateError([]));var r=t.length,i=new Array(r);t.forEach(function(o,a){return k.resolve(o).then(function(s){return e(s)},function(s){i[a]=s,--r||n(new AggregateError(i))})})})}));function na(t,e){try{e(function(n){if(t._state===null){if(n===t)throw new TypeError("A promise cannot be resolved with itself.");var r=t._lib&&un();n&&typeof n.then=="function"?na(t,function(i,o){n instanceof k?n._then(i,o):n.then(i,o)}):(t._state=!0,t._value=n,ra(t)),r&&ln()}},xr.bind(null,t))}catch(n){xr(t,n)}}function xr(t,e){if(Cn.push(e),t._state===null){var n=t._lib&&un();e=Or(e),t._state=!1,t._value=e,Pe&&e!==null&&typeof e=="object"&&!e._promise&&gu(function(){var r=ni(e,"stack");e._promise=t,He(e,"stack",{get:function(){return Ir?r&&(r.get?r.get.apply(e):r.value):t.stack}})}),zu(t),ra(t),n&&ln()}}function ra(t){var e=t._listeners;t._listeners=[];for(var n=0,r=e.length;n<r;++n)li(t,e[n]);var i=t._PSD;--i.ref||i.finalize(),yt===0&&(++yt,Qt(function(){--yt===0&&ci()},[]))}function li(t,e){if(t._state===null){t._listeners.push(e);return}var n=t._state?e.onFulfilled:e.onRejected;if(n===null)return(t._state?e.resolve:e.reject)(t._value);++e.psd.ref,++yt,Qt(Ku,[n,t,e])}function Ku(t,e,n){try{Sr=e;var r,i=e._value;e._state?r=t(i):(Cn.length&&(Cn=[]),r=t(i),Cn.indexOf(i)===-1&&Fu(e)),n.resolve(r)}catch(o){n.reject(o)}finally{Sr=null,--yt===0&&ci(),--n.psd.ref||n.psd.finalize()}}function ia(t,e,n){if(e.length===n)return e;var r="";if(t._state===!1){var i=t._value,o,a;i!=null?(o=i.name||"Error",a=i.message||i,r=Dr(i,0)):(o=i,a=""),e.push(o+(a?": "+a:"")+r)}return Pe&&(r=Dr(t._stackHolder,2),r&&e.indexOf(r)===-1&&e.push(r),t._prev&&ia(t._prev,e,n)),e}function oa(t,e){var n=e?e._numPrev+1:0;n<Pu&&(t._prev=e,t._numPrev=n)}function vn(){un()&&ln()}function un(){var t=kr;return kr=!1,Nn=!1,t}function ln(){var t,e,n;do for(;jt.length>0;)for(t=jt,jt=[],n=t.length,e=0;e<n;++e){var r=t[e];r[0].apply(null,r[1])}while(jt.length>0);kr=!0,Nn=!0}function ci(){var t=mt;mt=[],t.forEach(function(r){r._PSD.onunhandled.call(null,r._value,r)});for(var e=Dn.slice(0),n=e.length;n;)e[--n]()}function Nu(t){function e(){t(),Dn.splice(Dn.indexOf(e),1)}Dn.push(e),++yt,Qt(function(){--yt===0&&ci()},[])}function zu(t){mt.some(function(e){return e._value===t._value})||mt.push(t)}function Fu(t){for(var e=mt.length;e;)if(mt[--e]._value===t._value){mt.splice(e,1);return}}function Tn(t){return new k(qt,!1,t)}function G(t,e){var n=x;return function(){var r=un(),i=x;try{return nt(n,!0),t.apply(this,arguments)}catch(o){e&&e(o)}finally{nt(i,!1),r&&ln()}}}var oe={awaits:0,echoes:0,id:0},Hu=0,An=[],or=0,zn=0,Vu=0;function tt(t,e,n,r){var i=x,o=Object.create(i);o.parent=i,o.ref=0,o.global=!1,o.id=++Vu;var a=It.env;o.env=ui?{Promise:k,PromiseProp:{value:k,configurable:!0,writable:!0},all:k.all,race:k.race,allSettled:k.allSettled,any:k.any,resolve:k.resolve,reject:k.reject,nthen:Zi(a.nthen,o),gthen:Zi(a.gthen,o)}:{},e&&fe(o,e),++i.ref,o.finalize=function(){--this.parent.ref||this.parent.finalize()};var s=zt(o,t,n,r);return o.ref===0&&o.finalize(),s}function Nt(){return oe.id||(oe.id=++Hu),++oe.awaits,oe.echoes+=$o,oe.id}function Ve(){return oe.awaits?(--oe.awaits===0&&(oe.id=0),oe.echoes=oe.awaits*$o,!0):!1}(""+ea).indexOf("[native code]")===-1&&(Nt=Ve=V);function Fn(t){return oe.echoes&&t&&t.constructor===En?(Nt(),t.then(function(e){return Ve(),e},function(e){return Ve(),J(e)})):t}function ju(t){++zn,(!oe.echoes||--oe.echoes===0)&&(oe.echoes=oe.id=0),An.push(x),nt(t,!0)}function Wu(){var t=An[An.length-1];An.pop(),nt(t,!1)}function nt(t,e){var n=x;if((e?oe.echoes&&(!or++||t!==x):or&&(!--or||t!==x))&&sa(e?ju.bind(null,t):Wu),t!==x&&(x=t,n===It&&(It.env=aa()),ui)){var r=It.env.Promise,i=t.env;Kn.then=i.nthen,r.prototype.then=i.gthen,(n.global||t.global)&&(Object.defineProperty(j,"Promise",i.PromiseProp),r.all=i.all,r.race=i.race,r.resolve=i.resolve,r.reject=i.reject,i.allSettled&&(r.allSettled=i.allSettled),i.any&&(r.any=i.any))}}function aa(){var t=j.Promise;return ui?{Promise:t,PromiseProp:Object.getOwnPropertyDescriptor(j,"Promise"),all:t.all,race:t.race,allSettled:t.allSettled,any:t.any,resolve:t.resolve,reject:t.reject,nthen:Kn.then,gthen:t.prototype.then}:{}}function zt(t,e,n,r,i){var o=x;try{return nt(t,!0),e(n,r,i)}finally{nt(o,!1)}}function sa(t){ea.call(Tr,t)}function Hn(t,e,n,r){return typeof t!="function"?t:function(){var i=x;n&&Nt(),nt(e,!0);try{return t.apply(this,arguments)}finally{nt(i,!1),r&&sa(Ve)}}}function Zi(t,e){return function(n,r){return t.call(this,Hn(n,e),Hn(r,e))}}var Xi="unhandledrejection";function qi(t,e){var n;try{n=e.onuncatched(t)}catch{}if(n!==!1)try{var r,i={promise:e,reason:t};if(j.document&&document.createEvent?(r=document.createEvent("Event"),r.initEvent(Xi,!0,!0),fe(r,i)):j.CustomEvent&&(r=new CustomEvent(Xi,{detail:i}),fe(r,i)),r&&j.dispatchEvent&&(dispatchEvent(r),!j.PromiseRejectionEvent&&j.onunhandledrejection))try{j.onunhandledrejection(r)}catch{}Pe&&r&&!r.defaultPrevented&&console.warn("Unhandled rejection: "+(t.stack||t))}catch{}}var J=k.reject;function Rr(t,e,n,r){if(!t.idbdb||!t._state.openComplete&&!x.letThrough&&!t._vip){if(t._state.openComplete)return J(new R.DatabaseClosed(t._state.dbOpenError));if(!t._state.isBeingOpened){if(!t._options.autoOpen)return J(new R.DatabaseClosed);t.open().catch(V)}return t._state.dbReadyPromise.then(function(){return Rr(t,e,n,r)})}else{var i=t._createTransaction(e,n,t._dbSchema);try{i.create(),t._state.PR1398_maxLoop=3}catch(o){return o.name===oi.InvalidState&&t.isOpen()&&--t._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),t._close(),t.open().then(function(){return Rr(t,e,n,r)})):J(o)}return i._promise(e,function(o,a){return tt(function(){return x.trans=i,r(o,a,i)})}).then(function(o){return i._completion.then(function(){return o})})}}var Qi="3.2.2",ct=String.fromCharCode(65535),Pr=-1/0,Le="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",ua="String expected.",Gt=[],$n=typeof navigator<"u"&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),Gu=$n,Uu=$n,la=function(t){return!/(dexie\.js|dexie\.min\.js)/.test(t)},er="__dbnames",ar="readonly",sr="readwrite";function _t(t,e){return t?e?function(){return t.apply(this,arguments)&&e.apply(this,arguments)}:t:e}var ca={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function mn(t){return typeof t=="string"&&!/\./.test(t)?function(e){return e[t]===void 0&&t in e&&(e=an(e),delete e[t]),e}:function(e){return e}}var Yu=function(){function t(){}return t.prototype._trans=function(e,n,r){var i=this._tx||x.trans,o=this.name;function a(u,l,c){if(!c.schema[o])throw new R.NotFound("Table "+o+" not part of transaction");return n(c.idbtrans,c)}var s=un();try{return i&&i.db===this.db?i===x.trans?i._promise(e,a,r):tt(function(){return i._promise(e,a,r)},{trans:i,transless:x.transless||x}):Rr(this.db,e,[this.name],a)}finally{s&&ln()}},t.prototype.get=function(e,n){var r=this;return e&&e.constructor===Object?this.where(e).first(n):this._trans("readonly",function(i){return r.core.get({trans:i,key:e}).then(function(o){return r.hook.reading.fire(o)})}).then(n)},t.prototype.where=function(e){if(typeof e=="string")return new this.db.WhereClause(this,e);if(ae(e))return new this.db.WhereClause(this,"["+e.join("+")+"]");var n=Q(e);if(n.length===1)return this.where(n[0]).equals(e[n[0]]);var r=this.schema.indexes.concat(this.schema.primKey).filter(function(c){return c.compound&&n.every(function(f){return c.keyPath.indexOf(f)>=0})&&c.keyPath.every(function(f){return n.indexOf(f)>=0})})[0];if(r&&this.db._maxKey!==ct)return this.where(r.name).equals(r.keyPath.map(function(c){return e[c]}));!r&&Pe&&console.warn("The query "+JSON.stringify(e)+" on "+this.name+" would benefit of a "+("compound index ["+n.join("+")+"]"));var i=this.schema.idxByName,o=this.db._deps.indexedDB;function a(c,f){try{return o.cmp(c,f)===0}catch{return!1}}var s=n.reduce(function(c,f){var d=c[0],h=c[1],p=i[f],v=e[f];return[d||p,d||!p?_t(h,p&&p.multi?function(g){var b=Fe(g,f);return ae(b)&&b.some(function(m){return a(v,m)})}:function(g){return a(v,Fe(g,f))}):h]},[null,null]),u=s[0],l=s[1];return u?this.where(u.name).equals(e[u.keyPath]).filter(l):r?this.filter(l):this.where(n).equals("")},t.prototype.filter=function(e){return this.toCollection().and(e)},t.prototype.count=function(e){return this.toCollection().count(e)},t.prototype.offset=function(e){return this.toCollection().offset(e)},t.prototype.limit=function(e){return this.toCollection().limit(e)},t.prototype.each=function(e){return this.toCollection().each(e)},t.prototype.toArray=function(e){return this.toCollection().toArray(e)},t.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},t.prototype.orderBy=function(e){return new this.db.Collection(new this.db.WhereClause(this,ae(e)?"["+e.join("+")+"]":e))},t.prototype.reverse=function(){return this.toCollection().reverse()},t.prototype.mapToClass=function(e){this.schema.mappedClass=e;var n=function(r){if(!r)return r;var i=Object.create(e.prototype);for(var o in r)if(_e(r,o))try{i[o]=r[o]}catch{}return i};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=n,this.hook("reading",n),e},t.prototype.defineClass=function(){function e(n){fe(this,n)}return this.mapToClass(e)},t.prototype.add=function(e,n){var r=this,i=this.schema.primKey,o=i.auto,a=i.keyPath,s=e;return a&&o&&(s=mn(a)(e)),this._trans("readwrite",function(u){return r.core.mutate({trans:u,type:"add",keys:n!=null?[n]:null,values:[s]})}).then(function(u){return u.numFailures?k.reject(u.failures[0]):u.lastResult}).then(function(u){if(a)try{ke(e,a,u)}catch{}return u})},t.prototype.update=function(e,n){if(typeof e=="object"&&!ae(e)){var r=Fe(e,this.schema.primKey.keyPath);if(r===void 0)return J(new R.InvalidArgument("Given object does not contain its primary key"));try{typeof n!="function"?Q(n).forEach(function(i){ke(e,i,n[i])}):n(e,{value:e,primKey:r})}catch{}return this.where(":id").equals(r).modify(n)}else return this.where(":id").equals(e).modify(n)},t.prototype.put=function(e,n){var r=this,i=this.schema.primKey,o=i.auto,a=i.keyPath,s=e;return a&&o&&(s=mn(a)(e)),this._trans("readwrite",function(u){return r.core.mutate({trans:u,type:"put",values:[s],keys:n!=null?[n]:null})}).then(function(u){return u.numFailures?k.reject(u.failures[0]):u.lastResult}).then(function(u){if(a)try{ke(e,a,u)}catch{}return u})},t.prototype.delete=function(e){var n=this;return this._trans("readwrite",function(r){return n.core.mutate({trans:r,type:"delete",keys:[e]})}).then(function(r){return r.numFailures?k.reject(r.failures[0]):void 0})},t.prototype.clear=function(){var e=this;return this._trans("readwrite",function(n){return e.core.mutate({trans:n,type:"deleteRange",range:ca})}).then(function(n){return n.numFailures?k.reject(n.failures[0]):void 0})},t.prototype.bulkGet=function(e){var n=this;return this._trans("readonly",function(r){return n.core.getMany({keys:e,trans:r}).then(function(i){return i.map(function(o){return n.hook.reading.fire(o)})})})},t.prototype.bulkAdd=function(e,n,r){var i=this,o=Array.isArray(n)?n:void 0;r=r||(o?void 0:n);var a=r?r.allKeys:void 0;return this._trans("readwrite",function(s){var u=i.schema.primKey,l=u.auto,c=u.keyPath;if(c&&o)throw new R.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(o&&o.length!==e.length)throw new R.InvalidArgument("Arguments objects and keys must have the same length");var f=e.length,d=c&&l?e.map(mn(c)):e;return i.core.mutate({trans:s,type:"add",keys:o,values:d,wantResults:a}).then(function(h){var p=h.numFailures,v=h.results,g=h.lastResult,b=h.failures,m=a?v:g;if(p===0)return m;throw new Wt(i.name+".bulkAdd(): "+p+" of "+f+" operations failed",b)})})},t.prototype.bulkPut=function(e,n,r){var i=this,o=Array.isArray(n)?n:void 0;r=r||(o?void 0:n);var a=r?r.allKeys:void 0;return this._trans("readwrite",function(s){var u=i.schema.primKey,l=u.auto,c=u.keyPath;if(c&&o)throw new R.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(o&&o.length!==e.length)throw new R.InvalidArgument("Arguments objects and keys must have the same length");var f=e.length,d=c&&l?e.map(mn(c)):e;return i.core.mutate({trans:s,type:"put",keys:o,values:d,wantResults:a}).then(function(h){var p=h.numFailures,v=h.results,g=h.lastResult,b=h.failures,m=a?v:g;if(p===0)return m;throw new Wt(i.name+".bulkPut(): "+p+" of "+f+" operations failed",b)})})},t.prototype.bulkDelete=function(e){var n=this,r=e.length;return this._trans("readwrite",function(i){return n.core.mutate({trans:i,type:"delete",keys:e})}).then(function(i){var o=i.numFailures,a=i.lastResult,s=i.failures;if(o===0)return a;throw new Wt(n.name+".bulkDelete(): "+o+" of "+r+" operations failed",s)})},t}();function cn(t){var e={},n=function(s,u){if(u){for(var l=arguments.length,c=new Array(l-1);--l;)c[l-1]=arguments[l];return e[s].subscribe.apply(null,c),t}else if(typeof s=="string")return e[s]};n.addEventType=o;for(var r=1,i=arguments.length;r<i;++r)o(arguments[r]);return n;function o(s,u,l){if(typeof s=="object")return a(s);u||(u=Ru),l||(l=V);var c={subscribers:[],fire:l,subscribe:function(f){c.subscribers.indexOf(f)===-1&&(c.subscribers.push(f),c.fire=u(c.fire,f))},unsubscribe:function(f){c.subscribers=c.subscribers.filter(function(d){return d!==f}),c.fire=c.subscribers.reduce(u,l)}};return e[s]=n[s]=c,c}function a(s){Q(s).forEach(function(u){var l=s[u];if(ae(l))o(u,s[u][0],s[u][1]);else if(l==="asap")var c=o(u,sn,function(){for(var d=arguments.length,h=new Array(d);d--;)h[d]=arguments[d];c.subscribers.forEach(function(p){Wo(function(){p.apply(null,h)})})});else throw new R.InvalidArgument("Invalid event config")})}}function fn(t,e){return Bt(e).from({prototype:t}),e}function Zu(t){return fn(Yu.prototype,function(n,r,i){this.db=t,this._tx=i,this.name=n,this.schema=r,this.hook=t._allTables[n]?t._allTables[n].hook:cn(null,{creating:[Ou,V],reading:[Su,sn],updating:[xu,V],deleting:[Mu,V]})})}function Et(t,e){return!(t.filter||t.algorithm||t.or)&&(e?t.justLimit:!t.replayFilter)}function ur(t,e){t.filter=_t(t.filter,e)}function lr(t,e,n){var r=t.replayFilter;t.replayFilter=r?function(){return _t(r(),e())}:e,t.justLimit=n&&!r}function Xu(t,e){t.isMatch=_t(t.isMatch,e)}function In(t,e){if(t.isPrimKey)return e.primaryKey;var n=e.getIndexByKeyPath(t.index);if(!n)throw new R.Schema("KeyPath "+t.index+" on object store "+e.name+" is not indexed");return n}function Ji(t,e,n){var r=In(t,e.schema);return e.openCursor({trans:n,values:!t.keysOnly,reverse:t.dir==="prev",unique:!!t.unique,query:{index:r,range:t.range}})}function yn(t,e,n,r){var i=t.replayFilter?_t(t.filter,t.replayFilter()):t.filter;if(t.or){var o={},a=function(s,u,l){if(!i||i(u,l,function(d){return u.stop(d)},function(d){return u.fail(d)})){var c=u.primaryKey,f=""+c;f==="[object ArrayBuffer]"&&(f=""+new Uint8Array(c)),_e(o,f)||(o[f]=!0,e(s,u,l))}};return Promise.all([t.or._iterate(a,n),$i(Ji(t,r,n),t.algorithm,a,!t.keysOnly&&t.valueMapper)])}else return $i(Ji(t,r,n),_t(t.algorithm,i),e,!t.keysOnly&&t.valueMapper)}function $i(t,e,n,r){var i=r?function(a,s,u){return n(r(a),s,u)}:n,o=G(i);return t.then(function(a){if(a)return a.start(function(){var s=function(){return a.continue()};(!e||e(a,function(u){return s=u},function(u){a.stop(u),s=V},function(u){a.fail(u),s=V}))&&o(a.value,a,function(u){return s=u}),s()})})}function le(t,e){try{var n=eo(t),r=eo(e);if(n!==r)return n==="Array"?1:r==="Array"?-1:n==="binary"?1:r==="binary"?-1:n==="string"?1:r==="string"?-1:n==="Date"?1:r!=="Date"?NaN:-1;switch(n){case"number":case"Date":case"string":return t>e?1:t<e?-1:0;case"binary":return Qu(to(t),to(e));case"Array":return qu(t,e)}}catch{}return NaN}function qu(t,e){for(var n=t.length,r=e.length,i=n<r?n:r,o=0;o<i;++o){var a=le(t[o],e[o]);if(a!==0)return a}return n===r?0:n<r?-1:1}function Qu(t,e){for(var n=t.length,r=e.length,i=n<r?n:r,o=0;o<i;++o)if(t[o]!==e[o])return t[o]<e[o]?-1:1;return n===r?0:n<r?-1:1}function eo(t){var e=typeof t;if(e!=="object")return e;if(ArrayBuffer.isView(t))return"binary";var n=Er(t);return n==="ArrayBuffer"?"binary":n}function to(t){return t instanceof Uint8Array?t:ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):new Uint8Array(t)}var Ju=function(){function t(){}return t.prototype._read=function(e,n){var r=this._ctx;return r.error?r.table._trans(null,J.bind(null,r.error)):r.table._trans("readonly",e).then(n)},t.prototype._write=function(e){var n=this._ctx;return n.error?n.table._trans(null,J.bind(null,n.error)):n.table._trans("readwrite",e,"locked")},t.prototype._addAlgorithm=function(e){var n=this._ctx;n.algorithm=_t(n.algorithm,e)},t.prototype._iterate=function(e,n){return yn(this._ctx,e,n,this._ctx.table.core)},t.prototype.clone=function(e){var n=Object.create(this.constructor.prototype),r=Object.create(this._ctx);return e&&fe(r,e),n._ctx=r,n},t.prototype.raw=function(){return this._ctx.valueMapper=null,this},t.prototype.each=function(e){var n=this._ctx;return this._read(function(r){return yn(n,e,r,n.table.core)})},t.prototype.count=function(e){var n=this;return this._read(function(r){var i=n._ctx,o=i.table.core;if(Et(i,!0))return o.count({trans:r,query:{index:In(i,o.schema),range:i.range}}).then(function(s){return Math.min(s,i.limit)});var a=0;return yn(i,function(){return++a,!1},r,o).then(function(){return a})}).then(e)},t.prototype.sortBy=function(e,n){var r=e.split(".").reverse(),i=r[0],o=r.length-1;function a(l,c){return c?a(l[r[c]],c-1):l[i]}var s=this._ctx.dir==="next"?1:-1;function u(l,c){var f=a(l,o),d=a(c,o);return f<d?-s:f>d?s:0}return this.toArray(function(l){return l.sort(u)}).then(n)},t.prototype.toArray=function(e){var n=this;return this._read(function(r){var i=n._ctx;if(i.dir==="next"&&Et(i,!0)&&i.limit>0){var o=i.valueMapper,a=In(i,i.table.core.schema);return i.table.core.query({trans:r,limit:i.limit,values:!0,query:{index:a,range:i.range}}).then(function(u){var l=u.result;return o?l.map(o):l})}else{var s=[];return yn(i,function(u){return s.push(u)},r,i.table.core).then(function(){return s})}},e)},t.prototype.offset=function(e){var n=this._ctx;return e<=0?this:(n.offset+=e,Et(n)?lr(n,function(){var r=e;return function(i,o){return r===0?!0:r===1?(--r,!1):(o(function(){i.advance(r),r=0}),!1)}}):lr(n,function(){var r=e;return function(){return--r<0}}),this)},t.prototype.limit=function(e){return this._ctx.limit=Math.min(this._ctx.limit,e),lr(this._ctx,function(){var n=e;return function(r,i,o){return--n<=0&&i(o),n>=0}},!0),this},t.prototype.until=function(e,n){return ur(this._ctx,function(r,i,o){return e(r.value)?(i(o),n):!0}),this},t.prototype.first=function(e){return this.limit(1).toArray(function(n){return n[0]}).then(e)},t.prototype.last=function(e){return this.reverse().first(e)},t.prototype.filter=function(e){return ur(this._ctx,function(n){return e(n.value)}),Xu(this._ctx,e),this},t.prototype.and=function(e){return this.filter(e)},t.prototype.or=function(e){return new this.db.WhereClause(this._ctx.table,e,this)},t.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},t.prototype.desc=function(){return this.reverse()},t.prototype.eachKey=function(e){var n=this._ctx;return n.keysOnly=!n.isMatch,this.each(function(r,i){e(i.key,i)})},t.prototype.eachUniqueKey=function(e){return this._ctx.unique="unique",this.eachKey(e)},t.prototype.eachPrimaryKey=function(e){var n=this._ctx;return n.keysOnly=!n.isMatch,this.each(function(r,i){e(i.primaryKey,i)})},t.prototype.keys=function(e){var n=this._ctx;n.keysOnly=!n.isMatch;var r=[];return this.each(function(i,o){r.push(o.key)}).then(function(){return r}).then(e)},t.prototype.primaryKeys=function(e){var n=this._ctx;if(n.dir==="next"&&Et(n,!0)&&n.limit>0)return this._read(function(i){var o=In(n,n.table.core.schema);return n.table.core.query({trans:i,values:!1,limit:n.limit,query:{index:o,range:n.range}})}).then(function(i){var o=i.result;return o}).then(e);n.keysOnly=!n.isMatch;var r=[];return this.each(function(i,o){r.push(o.primaryKey)}).then(function(){return r}).then(e)},t.prototype.uniqueKeys=function(e){return this._ctx.unique="unique",this.keys(e)},t.prototype.firstKey=function(e){return this.limit(1).keys(function(n){return n[0]}).then(e)},t.prototype.lastKey=function(e){return this.reverse().firstKey(e)},t.prototype.distinct=function(){var e=this._ctx,n=e.index&&e.table.schema.idxByName[e.index];if(!n||!n.multi)return this;var r={};return ur(this._ctx,function(i){var o=i.primaryKey.toString(),a=_e(r,o);return r[o]=!0,!a}),this},t.prototype.modify=function(e){var n=this,r=this._ctx;return this._write(function(i){var o;if(typeof e=="function")o=e;else{var a=Q(e),s=a.length;o=function(b){for(var m=!1,y=0;y<s;++y){var _=a[y],w=e[_];Fe(b,_)!==w&&(ke(b,_,w),m=!0)}return m}}var u=r.table.core,l=u.schema.primaryKey,c=l.outbound,f=l.extractKey,d=n.db._options.modifyChunkSize||200,h=[],p=0,v=[],g=function(b,m){var y=m.failures,_=m.numFailures;p+=b-_;for(var w=0,D=Q(y);w<D.length;w++){var S=D[w];h.push(y[S])}};return n.clone().primaryKeys().then(function(b){var m=function(y){var _=Math.min(d,b.length-y);return u.getMany({trans:i,keys:b.slice(y,y+_),cache:"immutable"}).then(function(w){for(var D=[],S=[],E=c?[]:null,C=[],A=0;A<_;++A){var M=w[A],P={value:an(M),primKey:b[y+A]};o.call(P,P.value,P)!==!1&&(P.value==null?C.push(b[y+A]):!c&&le(f(M),f(P.value))!==0?(C.push(b[y+A]),D.push(P.value)):(S.push(P.value),c&&E.push(b[y+A])))}var L=Et(r)&&r.limit===1/0&&(typeof e!="function"||e===cr)&&{index:r.index,range:r.range};return Promise.resolve(D.length>0&&u.mutate({trans:i,type:"add",values:D}).then(function(W){for(var T in W.failures)C.splice(parseInt(T),1);g(D.length,W)})).then(function(){return(S.length>0||L&&typeof e=="object")&&u.mutate({trans:i,type:"put",keys:E,values:S,criteria:L,changeSpec:typeof e!="function"&&e}).then(function(W){return g(S.length,W)})}).then(function(){return(C.length>0||L&&e===cr)&&u.mutate({trans:i,type:"delete",keys:C,criteria:L}).then(function(W){return g(C.length,W)})}).then(function(){return b.length>y+_&&m(y+d)})})};return m(0).then(function(){if(h.length>0)throw new Bn("Error modifying one or more objects",h,p,v);return b.length})})})},t.prototype.delete=function(){var e=this._ctx,n=e.range;return Et(e)&&(e.isPrimKey&&!Uu||n.type===3)?this._write(function(r){var i=e.table.core.schema.primaryKey,o=n;return e.table.core.count({trans:r,query:{index:i,range:o}}).then(function(a){return e.table.core.mutate({trans:r,type:"deleteRange",range:o}).then(function(s){var u=s.failures;s.lastResult,s.results;var l=s.numFailures;if(l)throw new Bn("Could not delete some values",Object.keys(u).map(function(c){return u[c]}),a-l);return a-l})})}):this.modify(cr)},t}(),cr=function(t,e){return e.value=null};function $u(t){return fn(Ju.prototype,function(n,r){this.db=t;var i=ca,o=null;if(r)try{i=r()}catch(l){o=l}var a=n._ctx,s=a.table,u=s.hook.reading.fire;this._ctx={table:s,index:a.index,isPrimKey:!a.index||s.schema.primKey.keyPath&&a.index===s.schema.primKey.name,range:i,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:o,or:a.or,valueMapper:u!==sn?u:null}})}function el(t,e){return t<e?-1:t===e?0:1}function tl(t,e){return t>e?-1:t===e?0:1}function he(t,e,n){var r=t instanceof da?new t.Collection(t):t;return r._ctx.error=n?new n(e):new TypeError(e),r}function Ct(t){return new t.Collection(t,function(){return fa("")}).limit(0)}function nl(t){return t==="next"?function(e){return e.toUpperCase()}:function(e){return e.toLowerCase()}}function rl(t){return t==="next"?function(e){return e.toLowerCase()}:function(e){return e.toUpperCase()}}function il(t,e,n,r,i,o){for(var a=Math.min(t.length,r.length),s=-1,u=0;u<a;++u){var l=e[u];if(l!==r[u])return i(t[u],n[u])<0?t.substr(0,u)+n[u]+n.substr(u+1):i(t[u],r[u])<0?t.substr(0,u)+r[u]+n.substr(u+1):s>=0?t.substr(0,s)+e[s]+n.substr(s+1):null;i(t[u],l)<0&&(s=u)}return a<r.length&&o==="next"?t+n.substr(t.length):a<t.length&&o==="prev"?t.substr(0,n.length):s<0?null:t.substr(0,s)+r[s]+n.substr(s+1)}function gn(t,e,n,r){var i,o,a,s,u,l,c,f=n.length;if(!n.every(function(v){return typeof v=="string"}))return he(t,ua);function d(v){i=nl(v),o=rl(v),a=v==="next"?el:tl;var g=n.map(function(b){return{lower:o(b),upper:i(b)}}).sort(function(b,m){return a(b.lower,m.lower)});s=g.map(function(b){return b.upper}),u=g.map(function(b){return b.lower}),l=v,c=v==="next"?"":r}d("next");var h=new t.Collection(t,function(){return Ge(s[0],u[f-1]+r)});h._ondirectionchange=function(v){d(v)};var p=0;return h._addAlgorithm(function(v,g,b){var m=v.key;if(typeof m!="string")return!1;var y=o(m);if(e(y,u,p))return!0;for(var _=null,w=p;w<f;++w){var D=il(m,y,s[w],u[w],a,l);D===null&&_===null?p=w+1:(_===null||a(_,D)>0)&&(_=D)}return g(_!==null?function(){v.continue(_+c)}:b),!1}),h}function Ge(t,e,n,r){return{type:2,lower:t,upper:e,lowerOpen:n,upperOpen:r}}function fa(t){return{type:1,lower:t,upper:t}}var da=function(){function t(){}return Object.defineProperty(t.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),t.prototype.between=function(e,n,r,i){r=r!==!1,i=i===!0;try{return this._cmp(e,n)>0||this._cmp(e,n)===0&&(r||i)&&!(r&&i)?Ct(this):new this.Collection(this,function(){return Ge(e,n,!r,!i)})}catch{return he(this,Le)}},t.prototype.equals=function(e){return e==null?he(this,Le):new this.Collection(this,function(){return fa(e)})},t.prototype.above=function(e){return e==null?he(this,Le):new this.Collection(this,function(){return Ge(e,void 0,!0)})},t.prototype.aboveOrEqual=function(e){return e==null?he(this,Le):new this.Collection(this,function(){return Ge(e,void 0,!1)})},t.prototype.below=function(e){return e==null?he(this,Le):new this.Collection(this,function(){return Ge(void 0,e,!1,!0)})},t.prototype.belowOrEqual=function(e){return e==null?he(this,Le):new this.Collection(this,function(){return Ge(void 0,e)})},t.prototype.startsWith=function(e){return typeof e!="string"?he(this,ua):this.between(e,e+ct,!0,!0)},t.prototype.startsWithIgnoreCase=function(e){return e===""?this.startsWith(e):gn(this,function(n,r){return n.indexOf(r[0])===0},[e],ct)},t.prototype.equalsIgnoreCase=function(e){return gn(this,function(n,r){return n===r[0]},[e],"")},t.prototype.anyOfIgnoreCase=function(){var e=Ne.apply(Dt,arguments);return e.length===0?Ct(this):gn(this,function(n,r){return r.indexOf(n)!==-1},e,"")},t.prototype.startsWithAnyOfIgnoreCase=function(){var e=Ne.apply(Dt,arguments);return e.length===0?Ct(this):gn(this,function(n,r){return r.some(function(i){return n.indexOf(i)===0})},e,ct)},t.prototype.anyOf=function(){var e=this,n=Ne.apply(Dt,arguments),r=this._cmp;try{n.sort(r)}catch{return he(this,Le)}if(n.length===0)return Ct(this);var i=new this.Collection(this,function(){return Ge(n[0],n[n.length-1])});i._ondirectionchange=function(a){r=a==="next"?e._ascending:e._descending,n.sort(r)};var o=0;return i._addAlgorithm(function(a,s,u){for(var l=a.key;r(l,n[o])>0;)if(++o,o===n.length)return s(u),!1;return r(l,n[o])===0?!0:(s(function(){a.continue(n[o])}),!1)}),i},t.prototype.notEqual=function(e){return this.inAnyRange([[Pr,e],[e,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},t.prototype.noneOf=function(){var e=Ne.apply(Dt,arguments);if(e.length===0)return new this.Collection(this);try{e.sort(this._ascending)}catch{return he(this,Le)}var n=e.reduce(function(r,i){return r?r.concat([[r[r.length-1][1],i]]):[[Pr,i]]},null);return n.push([e[e.length-1],this.db._maxKey]),this.inAnyRange(n,{includeLowers:!1,includeUppers:!1})},t.prototype.inAnyRange=function(e,n){var r=this,i=this._cmp,o=this._ascending,a=this._descending,s=this._min,u=this._max;if(e.length===0)return Ct(this);if(!e.every(function(w){return w[0]!==void 0&&w[1]!==void 0&&o(w[0],w[1])<=0}))return he(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",R.InvalidArgument);var l=!n||n.includeLowers!==!1,c=n&&n.includeUppers===!0;function f(w,D){for(var S=0,E=w.length;S<E;++S){var C=w[S];if(i(D[0],C[1])<0&&i(D[1],C[0])>0){C[0]=s(C[0],D[0]),C[1]=u(C[1],D[1]);break}}return S===E&&w.push(D),w}var d=o;function h(w,D){return d(w[0],D[0])}var p;try{p=e.reduce(f,[]),p.sort(h)}catch{return he(this,Le)}var v=0,g=c?function(w){return o(w,p[v][1])>0}:function(w){return o(w,p[v][1])>=0},b=l?function(w){return a(w,p[v][0])>0}:function(w){return a(w,p[v][0])>=0};function m(w){return!g(w)&&!b(w)}var y=g,_=new this.Collection(this,function(){return Ge(p[0][0],p[p.length-1][1],!l,!c)});return _._ondirectionchange=function(w){w==="next"?(y=g,d=o):(y=b,d=a),p.sort(h)},_._addAlgorithm(function(w,D,S){for(var E=w.key;y(E);)if(++v,v===p.length)return D(S),!1;return m(E)?!0:(r._cmp(E,p[v][1])===0||r._cmp(E,p[v][0])===0||D(function(){d===o?w.continue(p[v][0]):w.continue(p[v][1])}),!1)}),_},t.prototype.startsWithAnyOf=function(){var e=Ne.apply(Dt,arguments);return e.every(function(n){return typeof n=="string"})?e.length===0?Ct(this):this.inAnyRange(e.map(function(n){return[n,n+ct]})):he(this,"startsWithAnyOf() only works with strings")},t}();function ol(t){return fn(da.prototype,function(n,r,i){this.db=t,this._ctx={table:n,index:r===":id"?null:r,or:i};var o=t._deps.indexedDB;if(!o)throw new R.MissingAPI;this._cmp=this._ascending=o.cmp.bind(o),this._descending=function(a,s){return o.cmp(s,a)},this._max=function(a,s){return o.cmp(a,s)>0?a:s},this._min=function(a,s){return o.cmp(a,s)<0?a:s},this._IDBKeyRange=t._deps.IDBKeyRange})}function Me(t){return G(function(e){return Jt(e),t(e.target.error),!1})}function Jt(t){t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault()}var $t="storagemutated",qe="x-storagemutated-1",rt=cn(null,$t),al=function(){function t(){}return t.prototype._lock=function(){return Vt(!x.global),++this._reculock,this._reculock===1&&!x.global&&(x.lockOwnerFor=this),this},t.prototype._unlock=function(){if(Vt(!x.global),--this._reculock===0)for(x.global||(x.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var e=this._blockedFuncs.shift();try{zt(e[1],e[0])}catch{}}return this},t.prototype._locked=function(){return this._reculock&&x.lockOwnerFor!==this},t.prototype.create=function(e){var n=this;if(!this.mode)return this;var r=this.db.idbdb,i=this.db._state.dbOpenError;if(Vt(!this.idbtrans),!e&&!r)switch(i&&i.name){case"DatabaseClosedError":throw new R.DatabaseClosed(i);case"MissingAPIError":throw new R.MissingAPI(i.message,i);default:throw new R.OpenFailed(i)}if(!this.active)throw new R.TransactionInactive;return Vt(this._completion._state===null),e=this.idbtrans=e||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):r.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})),e.onerror=G(function(o){Jt(o),n._reject(e.error)}),e.onabort=G(function(o){Jt(o),n.active&&n._reject(new R.Abort(e.error)),n.active=!1,n.on("abort").fire(o)}),e.oncomplete=G(function(){n.active=!1,n._resolve(),"mutatedParts"in e&&rt.storagemutated.fire(e.mutatedParts)}),this},t.prototype._promise=function(e,n,r){var i=this;if(e==="readwrite"&&this.mode!=="readwrite")return J(new R.ReadOnly("Transaction is readonly"));if(!this.active)return J(new R.TransactionInactive);if(this._locked())return new k(function(a,s){i._blockedFuncs.push([function(){i._promise(e,n,r).then(a,s)},x])});if(r)return tt(function(){var a=new k(function(s,u){i._lock();var l=n(s,u,i);l&&l.then&&l.then(s,u)});return a.finally(function(){return i._unlock()}),a._lib=!0,a});var o=new k(function(a,s){var u=n(a,s,i);u&&u.then&&u.then(a,s)});return o._lib=!0,o},t.prototype._root=function(){return this.parent?this.parent._root():this},t.prototype.waitFor=function(e){var n=this._root(),r=k.resolve(e);if(n._waitingFor)n._waitingFor=n._waitingFor.then(function(){return r});else{n._waitingFor=r,n._waitingQueue=[];var i=n.idbtrans.objectStore(n.storeNames[0]);(function a(){for(++n._spinCount;n._waitingQueue.length;)n._waitingQueue.shift()();n._waitingFor&&(i.get(-1/0).onsuccess=a)})()}var o=n._waitingFor;return new k(function(a,s){r.then(function(u){return n._waitingQueue.push(G(a.bind(null,u)))},function(u){return n._waitingQueue.push(G(s.bind(null,u)))}).finally(function(){n._waitingFor===o&&(n._waitingFor=null)})})},t.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new R.Abort))},t.prototype.table=function(e){var n=this._memoizedTables||(this._memoizedTables={});if(_e(n,e))return n[e];var r=this.schema[e];if(!r)throw new R.NotFound("Table "+e+" not part of transaction");var i=new this.db.Table(e,r,this);return i.core=this.db.core.table(e),n[e]=i,i},t}();function sl(t){return fn(al.prototype,function(n,r,i,o,a){var s=this;this.db=t,this.mode=n,this.storeNames=r,this.schema=i,this.chromeTransactionDurability=o,this.idbtrans=null,this.on=cn(this,"complete","error","abort"),this.parent=a||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new k(function(u,l){s._resolve=u,s._reject=l}),this._completion.then(function(){s.active=!1,s.on.complete.fire()},function(u){var l=s.active;return s.active=!1,s.on.error.fire(u),s.parent?s.parent._reject(u):l&&s.idbtrans&&s.idbtrans.abort(),J(u)})})}function Lr(t,e,n,r,i,o,a){return{name:t,keyPath:e,unique:n,multi:r,auto:i,compound:o,src:(n&&!a?"&":"")+(r?"*":"")+(i?"++":"")+ha(e)}}function ha(t){return typeof t=="string"?t:t?"["+[].join.call(t,"+")+"]":""}function pa(t,e,n){return{name:t,primKey:e,indexes:n,mappedClass:null,idxByName:Go(n,function(r){return[r.name,r]})}}function ul(t){return t.length===1?t[0]:t}var en=function(t){try{return t.only([[]]),en=function(){return[[]]},[[]]}catch{return en=function(){return ct},ct}};function Br(t){return t==null?function(){}:typeof t=="string"?ll(t):function(e){return Fe(e,t)}}function ll(t){var e=t.split(".");return e.length===1?function(n){return n[t]}:function(n){return Fe(n,t)}}function no(t){return[].slice.call(t)}var cl=0;function Ut(t){return t==null?":id":typeof t=="string"?t:"["+t.join("+")+"]"}function fl(t,e,n){function r(f,d){var h=no(f.objectStoreNames);return{schema:{name:f.name,tables:h.map(function(p){return d.objectStore(p)}).map(function(p){var v=p.keyPath,g=p.autoIncrement,b=ae(v),m=v==null,y={},_={name:p.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:m,compound:b,keyPath:v,autoIncrement:g,unique:!0,extractKey:Br(v)},indexes:no(p.indexNames).map(function(w){return p.index(w)}).map(function(w){var D=w.name,S=w.unique,E=w.multiEntry,C=w.keyPath,A=ae(C),M={name:D,compound:A,keyPath:C,unique:S,multiEntry:E,extractKey:Br(C)};return y[Ut(C)]=M,M}),getIndexByKeyPath:function(w){return y[Ut(w)]}};return y[":id"]=_.primaryKey,v!=null&&(y[Ut(v)]=_.primaryKey),_})},hasGetAll:h.length>0&&"getAll"in d.objectStore(h[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}function i(f){if(f.type===3)return null;if(f.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var d=f.lower,h=f.upper,p=f.lowerOpen,v=f.upperOpen,g=d===void 0?h===void 0?null:e.upperBound(h,!!v):h===void 0?e.lowerBound(d,!!p):e.bound(d,h,!!p,!!v);return g}function o(f){var d=f.name;function h(g){var b=g.trans,m=g.type,y=g.keys,_=g.values,w=g.range;return new Promise(function(D,S){D=G(D);var E=b.objectStore(d),C=E.keyPath==null,A=m==="put"||m==="add";if(!A&&m!=="delete"&&m!=="deleteRange")throw new Error("Invalid operation type: "+m);var M=(y||_||{length:1}).length;if(y&&_&&y.length!==_.length)throw new Error("Given keys array must have same length as given values array.");if(M===0)return D({numFailures:0,failures:{},results:[],lastResult:void 0});var P,L=[],W=[],T=0,$=function(Oe){++T,Jt(Oe)};if(m==="deleteRange"){if(w.type===4)return D({numFailures:T,failures:W,results:[],lastResult:void 0});w.type===3?L.push(P=E.clear()):L.push(P=E.delete(i(w)))}else{var De=A?C?[_,y]:[_,null]:[y,null],je=De[0],Se=De[1];if(A)for(var be=0;be<M;++be)L.push(P=Se&&Se[be]!==void 0?E[m](je[be],Se[be]):E[m](je[be])),P.onerror=$;else for(var be=0;be<M;++be)L.push(P=E[m](je[be])),P.onerror=$}var We=function(Oe){var Ft=Oe.target.result;L.forEach(function(Te,dn){return Te.error!=null&&(W[dn]=Te.error)}),D({numFailures:T,failures:W,results:m==="delete"?y:L.map(function(Te){return Te.result}),lastResult:Ft})};P.onerror=function(Oe){$(Oe),We(Oe)},P.onsuccess=We})}function p(g){var b=g.trans,m=g.values,y=g.query,_=g.reverse,w=g.unique;return new Promise(function(D,S){D=G(D);var E=y.index,C=y.range,A=b.objectStore(d),M=E.isPrimaryKey?A:A.index(E.name),P=_?w?"prevunique":"prev":w?"nextunique":"next",L=m||!("openKeyCursor"in M)?M.openCursor(i(C),P):M.openKeyCursor(i(C),P);L.onerror=Me(S),L.onsuccess=G(function(W){var T=L.result;if(!T){D(null);return}T.___id=++cl,T.done=!1;var $=T.continue.bind(T),De=T.continuePrimaryKey;De&&(De=De.bind(T));var je=T.advance.bind(T),Se=function(){throw new Error("Cursor not started")},be=function(){throw new Error("Cursor not stopped")};T.trans=b,T.stop=T.continue=T.continuePrimaryKey=T.advance=Se,T.fail=G(S),T.next=function(){var We=this,Oe=1;return this.start(function(){return Oe--?We.continue():We.stop()}).then(function(){return We})},T.start=function(We){var Oe=new Promise(function(Te,dn){Te=G(Te),L.onerror=Me(dn),T.fail=dn,T.stop=function(wa){T.stop=T.continue=T.continuePrimaryKey=T.advance=be,Te(wa)}}),Ft=function(){if(L.result)try{We()}catch(Te){T.fail(Te)}else T.done=!0,T.start=function(){throw new Error("Cursor behind last entry")},T.stop()};return L.onsuccess=G(function(Te){L.onsuccess=Ft,Ft()}),T.continue=$,T.continuePrimaryKey=De,T.advance=je,Ft(),Oe},D(T)},S)})}function v(g){return function(b){return new Promise(function(m,y){m=G(m);var _=b.trans,w=b.values,D=b.limit,S=b.query,E=D===1/0?void 0:D,C=S.index,A=S.range,M=_.objectStore(d),P=C.isPrimaryKey?M:M.index(C.name),L=i(A);if(D===0)return m({result:[]});if(g){var W=w?P.getAll(L,E):P.getAllKeys(L,E);W.onsuccess=function(je){return m({result:je.target.result})},W.onerror=Me(y)}else{var T=0,$=w||!("openKeyCursor"in P)?P.openCursor(L):P.openKeyCursor(L),De=[];$.onsuccess=function(je){var Se=$.result;if(!Se)return m({result:De});if(De.push(w?Se.value:Se.primaryKey),++T===D)return m({result:De});Se.continue()},$.onerror=Me(y)}})}}return{name:d,schema:f,mutate:h,getMany:function(g){var b=g.trans,m=g.keys;return new Promise(function(y,_){y=G(y);for(var w=b.objectStore(d),D=m.length,S=new Array(D),E=0,C=0,A,M=function(T){var $=T.target;(S[$._pos]=$.result)!=null,++C===E&&y(S)},P=Me(_),L=0;L<D;++L){var W=m[L];W!=null&&(A=w.get(m[L]),A._pos=L,A.onsuccess=M,A.onerror=P,++E)}E===0&&y(S)})},get:function(g){var b=g.trans,m=g.key;return new Promise(function(y,_){y=G(y);var w=b.objectStore(d),D=w.get(m);D.onsuccess=function(S){return y(S.target.result)},D.onerror=Me(_)})},query:v(u),openCursor:p,count:function(g){var b=g.query,m=g.trans,y=b.index,_=b.range;return new Promise(function(w,D){var S=m.objectStore(d),E=y.isPrimaryKey?S:S.index(y.name),C=i(_),A=C?E.count(C):E.count();A.onsuccess=G(function(M){return w(M.target.result)}),A.onerror=Me(D)})}}}var a=r(t,n),s=a.schema,u=a.hasGetAll,l=s.tables.map(function(f){return o(f)}),c={};return l.forEach(function(f){return c[f.name]=f}),{stack:"dbcore",transaction:t.transaction.bind(t),table:function(f){var d=c[f];if(!d)throw new Error("Table '"+f+"' not found");return c[f]},MIN_KEY:-1/0,MAX_KEY:en(e),schema:s}}function dl(t,e){return e.reduce(function(n,r){var i=r.create;return K(K({},n),i(n))},t)}function hl(t,e,n,r){var i=n.IDBKeyRange;n.indexedDB;var o=dl(fl(e,i,r),t.dbcore);return{dbcore:o}}function fi(t,e){var n=t._novip,r=e.db,i=hl(n._middlewares,r,n._deps,e);n.core=i.dbcore,n.tables.forEach(function(o){var a=o.name;n.core.schema.tables.some(function(s){return s.name===a})&&(o.core=n.core.table(a),n[a]instanceof n.Table&&(n[a].core=o.core))})}function Vn(t,e,n,r){var i=t._novip;n.forEach(function(o){var a=r[o];e.forEach(function(s){var u=ni(s,o);(!u||"value"in u&&u.value===void 0)&&(s===i.Transaction.prototype||s instanceof i.Transaction?He(s,o,{get:function(){return this.table(o)},set:function(l){Vo(this,o,{value:l,writable:!0,configurable:!0,enumerable:!0})}}):s[o]=new i.Table(o,a))})})}function Kr(t,e){var n=t._novip;e.forEach(function(r){for(var i in r)r[i]instanceof n.Table&&delete r[i]})}function pl(t,e){return t._cfg.version-e._cfg.version}function vl(t,e,n,r){var i=t._dbSchema,o=t._createTransaction("readwrite",t._storeNames,i);o.create(n),o._completion.catch(r);var a=o._reject.bind(o),s=x.transless||x;tt(function(){x.trans=o,x.transless=s,e===0?(Q(i).forEach(function(u){di(n,u,i[u].primKey,i[u].indexes)}),fi(t,n),k.follow(function(){return t.on.populate.fire(o)}).catch(a)):ml(t,e,o,n).catch(a)})}function ml(t,e,n,r){var i=t._novip,o=[],a=i._versions,s=i._dbSchema=hi(i,i.idbdb,r),u=!1,l=a.filter(function(f){return f._cfg.version>=e});l.forEach(function(f){o.push(function(){var d=s,h=f._cfg.dbschema;zr(i,d,r),zr(i,h,r),s=i._dbSchema=h;var p=va(d,h);p.add.forEach(function(_){di(r,_[0],_[1].primKey,_[1].indexes)}),p.change.forEach(function(_){if(_.recreate)throw new R.Upgrade("Not yet support for changing primary key");var w=r.objectStore(_.name);_.add.forEach(function(D){return Nr(w,D)}),_.change.forEach(function(D){w.deleteIndex(D.name),Nr(w,D)}),_.del.forEach(function(D){return w.deleteIndex(D)})});var v=f._cfg.contentUpgrade;if(v&&f._cfg.version>e){fi(i,r),n._memoizedTables={},u=!0;var g=Uo(h);p.del.forEach(function(_){g[_]=d[_]}),Kr(i,[i.Transaction.prototype]),Vn(i,[i.Transaction.prototype],Q(g),g),n.schema=g;var b=ri(v);b&&Nt();var m,y=k.follow(function(){if(m=v(n),m&&b){var _=Ve.bind(null,null);m.then(_,_)}});return m&&typeof m.then=="function"?k.resolve(m):y.then(function(){return m})}}),o.push(function(d){if(!u||!Gu){var h=f._cfg.dbschema;gl(h,d)}Kr(i,[i.Transaction.prototype]),Vn(i,[i.Transaction.prototype],i._storeNames,i._dbSchema),n.schema=i._dbSchema})});function c(){return o.length?k.resolve(o.shift()(n.idbtrans)).then(c):k.resolve()}return c().then(function(){yl(s,r)})}function va(t,e){var n={del:[],add:[],change:[]},r;for(r in t)e[r]||n.del.push(r);for(r in e){var i=t[r],o=e[r];if(!i)n.add.push([r,o]);else{var a={name:r,def:o,recreate:!1,del:[],add:[],change:[]};if(""+(i.primKey.keyPath||"")!=""+(o.primKey.keyPath||"")||i.primKey.auto!==o.primKey.auto&&!$n)a.recreate=!0,n.change.push(a);else{var s=i.idxByName,u=o.idxByName,l=void 0;for(l in s)u[l]||a.del.push(l);for(l in u){var c=s[l],f=u[l];c?c.src!==f.src&&a.change.push(f):a.add.push(f)}(a.del.length>0||a.add.length>0||a.change.length>0)&&n.change.push(a)}}}return n}function di(t,e,n,r){var i=t.db.createObjectStore(e,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return r.forEach(function(o){return Nr(i,o)}),i}function yl(t,e){Q(t).forEach(function(n){e.db.objectStoreNames.contains(n)||di(e,n,t[n].primKey,t[n].indexes)})}function gl(t,e){[].slice.call(e.db.objectStoreNames).forEach(function(n){return t[n]==null&&e.db.deleteObjectStore(n)})}function Nr(t,e){t.createIndex(e.name,e.keyPath,{unique:e.unique,multiEntry:e.multi})}function hi(t,e,n){var r={},i=Qn(e.objectStoreNames,0);return i.forEach(function(o){for(var a=n.objectStore(o),s=a.keyPath,u=Lr(ha(s),s||"",!1,!1,!!a.autoIncrement,s&&typeof s!="string",!0),l=[],c=0;c<a.indexNames.length;++c){var f=a.index(a.indexNames[c]);s=f.keyPath;var d=Lr(f.name,s,!!f.unique,!!f.multiEntry,!1,s&&typeof s!="string",!1);l.push(d)}r[o]=pa(o,u,l)}),r}function _l(t,e,n){var r=t._novip;r.verno=e.version/10;var i=r._dbSchema=hi(r,e,n);r._storeNames=Qn(e.objectStoreNames,0),Vn(r,[r._allTables],Q(i),i)}function bl(t,e){var n=hi(t,t.idbdb,e),r=va(n,t._dbSchema);return!(r.add.length||r.change.some(function(i){return i.add.length||i.change.length}))}function zr(t,e,n){for(var r=t._novip,i=n.db.objectStoreNames,o=0;o<i.length;++o){var a=i[o],s=n.objectStore(a);r._hasGetAll="getAll"in s;for(var u=0;u<s.indexNames.length;++u){var l=s.indexNames[u],c=s.index(l).keyPath,f=typeof c=="string"?c:"["+Qn(c).join("+")+"]";if(e[a]){var d=e[a].idxByName[f];d&&(d.name=l,delete e[a].idxByName[f],e[a].idxByName[l]=d)}}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&j.WorkerGlobalScope&&j instanceof j.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(r._hasGetAll=!1)}function wl(t){return t.split(",").map(function(e,n){e=e.trim();var r=e.replace(/([&*]|\+\+)/g,""),i=/^\[/.test(r)?r.match(/^\[(.*)\]$/)[1].split("+"):r;return Lr(r,i||null,/\&/.test(e),/\*/.test(e),/\+\+/.test(e),ae(i),n===0)})}var El=function(){function t(){}return t.prototype._parseStoresSpec=function(e,n){Q(e).forEach(function(r){if(e[r]!==null){var i=wl(e[r]),o=i.shift();if(o.multi)throw new R.Schema("Primary key cannot be multi-valued");i.forEach(function(a){if(a.auto)throw new R.Schema("Only primary key can be marked as autoIncrement (++)");if(!a.keyPath)throw new R.Schema("Index must have a name and cannot be an empty string")}),n[r]=pa(r,o,i)}})},t.prototype.stores=function(e){var n=this.db;this._cfg.storesSource=this._cfg.storesSource?fe(this._cfg.storesSource,e):e;var r=n._versions,i={},o={};return r.forEach(function(a){fe(i,a._cfg.storesSource),o=a._cfg.dbschema={},a._parseStoresSpec(i,o)}),n._dbSchema=o,Kr(n,[n._allTables,n,n.Transaction.prototype]),Vn(n,[n._allTables,n,n.Transaction.prototype,this._cfg.tables],Q(o),o),n._storeNames=Q(o),this},t.prototype.upgrade=function(e){return this._cfg.contentUpgrade=ai(this._cfg.contentUpgrade||V,e),this},t}();function Cl(t){return fn(El.prototype,function(n){this.db=t,this._cfg={version:n,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})}function pi(t,e){var n=t._dbNamesDB;return n||(n=t._dbNamesDB=new gi(er,{addons:[],indexedDB:t,IDBKeyRange:e}),n.version(1).stores({dbnames:"name"})),n.table("dbnames")}function vi(t){return t&&typeof t.databases=="function"}function Dl(t){var e=t.indexedDB,n=t.IDBKeyRange;return vi(e)?Promise.resolve(e.databases()).then(function(r){return r.map(function(i){return i.name}).filter(function(i){return i!==er})}):pi(e,n).toCollection().primaryKeys()}function Tl(t,e){var n=t.indexedDB,r=t.IDBKeyRange;!vi(n)&&e!==er&&pi(n,r).put({name:e}).catch(V)}function Al(t,e){var n=t.indexedDB,r=t.IDBKeyRange;!vi(n)&&e!==er&&pi(n,r).delete(e).catch(V)}function Fr(t){return tt(function(){return x.letThrough=!0,t()})}function Il(){var t=!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent);if(!t||!indexedDB.databases)return Promise.resolve();var e;return new Promise(function(n){var r=function(){return indexedDB.databases().finally(n)};e=setInterval(r,100),r()}).finally(function(){return clearInterval(e)})}function kl(t){var e=t._state,n=t._deps.indexedDB;if(e.isBeingOpened||t.idbdb)return e.dbReadyPromise.then(function(){return e.dbOpenError?J(e.dbOpenError):t});Pe&&(e.openCanceller._stackHolder=wt()),e.isBeingOpened=!0,e.dbOpenError=null,e.openComplete=!1;var r=e.openCanceller;function i(){if(e.openCanceller!==r)throw new R.DatabaseClosed("db.open() was cancelled")}var o=e.dbReadyResolve,a=null,s=!1;return k.race([r,(typeof navigator>"u"?k.resolve():Il()).then(function(){return new k(function(u,l){if(i(),!n)throw new R.MissingAPI;var c=t.name,f=e.autoSchema?n.open(c):n.open(c,Math.round(t.verno*10));if(!f)throw new R.MissingAPI;f.onerror=Me(l),f.onblocked=G(t._fireOnBlocked),f.onupgradeneeded=G(function(d){if(a=f.transaction,e.autoSchema&&!t._options.allowEmptyDB){f.onerror=Jt,a.abort(),f.result.close();var h=n.deleteDatabase(c);h.onsuccess=h.onerror=G(function(){l(new R.NoSuchDatabase("Database "+c+" doesnt exist"))})}else{a.onerror=Me(l);var p=d.oldVersion>Math.pow(2,62)?0:d.oldVersion;s=p<1,t._novip.idbdb=f.result,vl(t,p/10,a,l)}},l),f.onsuccess=G(function(){a=null;var d=t._novip.idbdb=f.result,h=Qn(d.objectStoreNames);if(h.length>0)try{var p=d.transaction(ul(h),"readonly");e.autoSchema?_l(t,d,p):(zr(t,t._dbSchema,p),bl(t,p)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),fi(t,p)}catch{}Gt.push(t),d.onversionchange=G(function(v){e.vcFired=!0,t.on("versionchange").fire(v)}),d.onclose=G(function(v){t.on("close").fire(v)}),s&&Tl(t._deps,c),u()},l)})})]).then(function(){return i(),e.onReadyBeingFired=[],k.resolve(Fr(function(){return t.on.ready.fire(t.vip)})).then(function u(){if(e.onReadyBeingFired.length>0){var l=e.onReadyBeingFired.reduce(ai,V);return e.onReadyBeingFired=[],k.resolve(Fr(function(){return l(t.vip)})).then(u)}})}).finally(function(){e.onReadyBeingFired=null,e.isBeingOpened=!1}).then(function(){return t}).catch(function(u){e.dbOpenError=u;try{a&&a.abort()}catch{}return r===e.openCanceller&&t._close(),J(u)}).finally(function(){e.openComplete=!0,o()})}function Hr(t){var e=function(a){return t.next(a)},n=function(a){return t.throw(a)},r=o(e),i=o(n);function o(a){return function(s){var u=a(s),l=u.value;return u.done?l:!l||typeof l.then!="function"?ae(l)?Promise.all(l).then(r,i):r(l):l.then(r,i)}}return o(e)()}function Sl(t,e,n){var r=arguments.length;if(r<2)throw new R.InvalidArgument("Too few arguments");for(var i=new Array(r-1);--r;)i[r-1]=arguments[r];n=i.pop();var o=Yo(i);return[t,o,n]}function ma(t,e,n,r,i){return k.resolve().then(function(){var o=x.transless||x,a=t._createTransaction(e,n,t._dbSchema,r),s={trans:a,transless:o};if(r)a.idbtrans=r.idbtrans;else try{a.create(),t._state.PR1398_maxLoop=3}catch(f){return f.name===oi.InvalidState&&t.isOpen()&&--t._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),t._close(),t.open().then(function(){return ma(t,e,n,null,i)})):J(f)}var u=ri(i);u&&Nt();var l,c=k.follow(function(){if(l=i.call(a,a),l)if(u){var f=Ve.bind(null,null);l.then(f,f)}else typeof l.next=="function"&&typeof l.throw=="function"&&(l=Hr(l))},s);return(l&&typeof l.then=="function"?k.resolve(l).then(function(f){return a.active?f:J(new R.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):c.then(function(){return l})).then(function(f){return r&&a._resolve(),a._completion.then(function(){return f})}).catch(function(f){return a._reject(f),J(f)})})}function _n(t,e,n){for(var r=ae(t)?t.slice():[t],i=0;i<n;++i)r.push(e);return r}function Ol(t){return K(K({},t),{table:function(e){var n=t.table(e),r=n.schema,i={},o=[];function a(v,g,b){var m=Ut(v),y=i[m]=i[m]||[],_=v==null?0:typeof v=="string"?1:v.length,w=g>0,D=K(K({},b),{isVirtual:w,keyTail:g,keyLength:_,extractKey:Br(v),unique:!w&&b.unique});if(y.push(D),D.isPrimaryKey||o.push(D),_>1){var S=_===2?v[0]:v.slice(0,_-1);a(S,g+1,b)}return y.sort(function(E,C){return E.keyTail-C.keyTail}),D}var s=a(r.primaryKey.keyPath,0,r.primaryKey);i[":id"]=[s];for(var u=0,l=r.indexes;u<l.length;u++){var c=l[u];a(c.keyPath,0,c)}function f(v){var g=i[Ut(v)];return g&&g[0]}function d(v,g){return{type:v.type===1?2:v.type,lower:_n(v.lower,v.lowerOpen?t.MAX_KEY:t.MIN_KEY,g),lowerOpen:!0,upper:_n(v.upper,v.upperOpen?t.MIN_KEY:t.MAX_KEY,g),upperOpen:!0}}function h(v){var g=v.query.index;return g.isVirtual?K(K({},v),{query:{index:g,range:d(v.query.range,g.keyTail)}}):v}var p=K(K({},n),{schema:K(K({},r),{primaryKey:s,indexes:o,getIndexByKeyPath:f}),count:function(v){return n.count(h(v))},query:function(v){return n.query(h(v))},openCursor:function(v){var g=v.query.index,b=g.keyTail,m=g.isVirtual,y=g.keyLength;if(!m)return n.openCursor(v);function _(w){function D(E){E!=null?w.continue(_n(E,v.reverse?t.MAX_KEY:t.MIN_KEY,b)):v.unique?w.continue(w.key.slice(0,y).concat(v.reverse?t.MIN_KEY:t.MAX_KEY,b)):w.continue()}var S=Object.create(w,{continue:{value:D},continuePrimaryKey:{value:function(E,C){w.continuePrimaryKey(_n(E,t.MAX_KEY,b),C)}},primaryKey:{get:function(){return w.primaryKey}},key:{get:function(){var E=w.key;return y===1?E[0]:E.slice(0,y)}},value:{get:function(){return w.value}}});return S}return n.openCursor(h(v)).then(function(w){return w&&_(w)})}});return p}})}var Ml={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:Ol};function mi(t,e,n,r){return n=n||{},r=r||"",Q(t).forEach(function(i){if(!_e(e,i))n[r+i]=void 0;else{var o=t[i],a=e[i];if(typeof o=="object"&&typeof a=="object"&&o&&a){var s=Er(o),u=Er(a);s!==u?n[r+i]=e[i]:s==="Object"?mi(o,a,n,r+i+"."):o!==a&&(n[r+i]=e[i])}else o!==a&&(n[r+i]=e[i])}}),Q(e).forEach(function(i){_e(t,i)||(n[r+i]=e[i])}),n}function xl(t,e){return e.type==="delete"?e.keys:e.keys||e.values.map(t.extractKey)}var Rl={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(t){return K(K({},t),{table:function(e){var n=t.table(e),r=n.schema.primaryKey,i=K(K({},n),{mutate:function(o){var a=x.trans,s=a.table(e).hook,u=s.deleting,l=s.creating,c=s.updating;switch(o.type){case"add":if(l.fire===V)break;return a._promise("readwrite",function(){return f(o)},!0);case"put":if(l.fire===V&&c.fire===V)break;return a._promise("readwrite",function(){return f(o)},!0);case"delete":if(u.fire===V)break;return a._promise("readwrite",function(){return f(o)},!0);case"deleteRange":if(u.fire===V)break;return a._promise("readwrite",function(){return d(o)},!0)}return n.mutate(o);function f(p){var v=x.trans,g=p.keys||xl(r,p);if(!g)throw new Error("Keys missing");return p=p.type==="add"||p.type==="put"?K(K({},p),{keys:g}):K({},p),p.type!=="delete"&&(p.values=br([],p.values,!0)),p.keys&&(p.keys=br([],p.keys,!0)),Pl(n,p,g).then(function(b){var m=g.map(function(y,_){var w=b[_],D={onerror:null,onsuccess:null};if(p.type==="delete")u.fire.call(D,y,w,v);else if(p.type==="add"||w===void 0){var S=l.fire.call(D,y,p.values[_],v);y==null&&S!=null&&(y=S,p.keys[_]=y,r.outbound||ke(p.values[_],r.keyPath,y))}else{var E=mi(w,p.values[_]),C=c.fire.call(D,E,y,w,v);if(C){var A=p.values[_];Object.keys(C).forEach(function(M){_e(A,M)?A[M]=C[M]:ke(A,M,C[M])})}}return D});return n.mutate(p).then(function(y){for(var _=y.failures,w=y.results,D=y.numFailures,S=y.lastResult,E=0;E<g.length;++E){var C=w?w[E]:g[E],A=m[E];C==null?A.onerror&&A.onerror(_[E]):A.onsuccess&&A.onsuccess(p.type==="put"&&b[E]?p.values[E]:C)}return{failures:_,results:w,numFailures:D,lastResult:S}}).catch(function(y){return m.forEach(function(_){return _.onerror&&_.onerror(y)}),Promise.reject(y)})})}function d(p){return h(p.trans,p.range,1e4)}function h(p,v,g){return n.query({trans:p,values:!1,query:{index:r,range:v},limit:g}).then(function(b){var m=b.result;return f({type:"delete",keys:m,trans:p}).then(function(y){return y.numFailures>0?Promise.reject(y.failures[0]):m.length<g?{failures:[],numFailures:0,lastResult:void 0}:h(p,K(K({},v),{lower:m[m.length-1],lowerOpen:!0}),g)})})}}});return i}})}};function Pl(t,e,n){return e.type==="add"?Promise.resolve([]):t.getMany({trans:e.trans,keys:n,cache:"immutable"})}function ya(t,e,n){try{if(!e||e.keys.length<t.length)return null;for(var r=[],i=0,o=0;i<e.keys.length&&o<t.length;++i)le(e.keys[i],t[o])===0&&(r.push(n?an(e.values[i]):e.values[i]),++o);return r.length===t.length?r:null}catch{return null}}var Ll={stack:"dbcore",level:-1,create:function(t){return{table:function(e){var n=t.table(e);return K(K({},n),{getMany:function(r){if(!r.cache)return n.getMany(r);var i=ya(r.keys,r.trans._cache,r.cache==="clone");return i?k.resolve(i):n.getMany(r).then(function(o){return r.trans._cache={keys:r.keys,values:r.cache==="clone"?an(o):o},o})},mutate:function(r){return r.type!=="add"&&(r.trans._cache=null),n.mutate(r)}})}}}},fr;function yi(t){return!("from"in t)}var Ke=function(t,e){if(this)fe(this,arguments.length?{d:1,from:t,to:arguments.length>1?e:t}:{d:0});else{var n=new Ke;return t&&"d"in t&&fe(n,t),n}};Mt(Ke.prototype,(fr={add:function(t){return jn(this,t),this},addKey:function(t){return tn(this,t,t),this},addKeys:function(t){var e=this;return t.forEach(function(n){return tn(e,n,n)}),this}},fr[Cr]=function(){return Vr(this)},fr));function tn(t,e,n){var r=le(e,n);if(!isNaN(r)){if(r>0)throw RangeError();if(yi(t))return fe(t,{from:e,to:n,d:1});var i=t.l,o=t.r;if(le(n,t.from)<0)return i?tn(i,e,n):t.l={from:e,to:n,d:1,l:null,r:null},ro(t);if(le(e,t.to)>0)return o?tn(o,e,n):t.r={from:e,to:n,d:1,l:null,r:null},ro(t);le(e,t.from)<0&&(t.from=e,t.l=null,t.d=o?o.d+1:1),le(n,t.to)>0&&(t.to=n,t.r=null,t.d=t.l?t.l.d+1:1);var a=!t.r;i&&!t.l&&jn(t,i),o&&a&&jn(t,o)}}function jn(t,e){function n(r,i){var o=i.from,a=i.to,s=i.l,u=i.r;tn(r,o,a),s&&n(r,s),u&&n(r,u)}yi(e)||n(t,e)}function Bl(t,e){var n=Vr(e),r=n.next();if(r.done)return!1;for(var i=r.value,o=Vr(t),a=o.next(i.from),s=a.value;!r.done&&!a.done;){if(le(s.from,i.to)<=0&&le(s.to,i.from)>=0)return!0;le(i.from,s.from)<0?i=(r=n.next(s.from)).value:s=(a=o.next(i.from)).value}return!1}function Vr(t){var e=yi(t)?null:{s:0,n:t};return{next:function(n){for(var r=arguments.length>0;e;)switch(e.s){case 0:if(e.s=1,r)for(;e.n.l&&le(n,e.n.from)<0;)e={up:e,n:e.n.l,s:1};else for(;e.n.l;)e={up:e,n:e.n.l,s:1};case 1:if(e.s=2,!r||le(n,e.n.to)<=0)return{value:e.n,done:!1};case 2:if(e.n.r){e.s=3,e={up:e,n:e.n.r,s:0};continue}case 3:e=e.up}return{done:!0}}}}function ro(t){var e,n,r=(((e=t.r)===null||e===void 0?void 0:e.d)||0)-(((n=t.l)===null||n===void 0?void 0:n.d)||0),i=r>1?"r":r<-1?"l":"";if(i){var o=i==="r"?"l":"r",a=K({},t),s=t[i];t.from=s.from,t.to=s.to,t[i]=s[i],a[i]=s[o],t[o]=a,a.d=io(a)}t.d=io(t)}function io(t){var e=t.r,n=t.l;return(e?n?Math.max(e.d,n.d):e.d:n?n.d:0)+1}var Kl={stack:"dbcore",level:0,create:function(t){var e=t.schema.name,n=new Ke(t.MIN_KEY,t.MAX_KEY);return K(K({},t),{table:function(r){var i=t.table(r),o=i.schema,a=o.primaryKey,s=a.extractKey,u=a.outbound,l=K(K({},i),{mutate:function(d){var h=d.trans,p=h.mutatedParts||(h.mutatedParts={}),v=function(S){var E="idb://"+e+"/"+r+"/"+S;return p[E]||(p[E]=new Ke)},g=v(""),b=v(":dels"),m=d.type,y=d.type==="deleteRange"?[d.range]:d.type==="delete"?[d.keys]:d.values.length<50?[[],d.values]:[],_=y[0],w=y[1],D=d.trans._cache;return i.mutate(d).then(function(S){if(ae(_)){m!=="delete"&&(_=S.results),g.addKeys(_);var E=ya(_,D);!E&&m!=="add"&&b.addKeys(_),(E||w)&&Nl(v,o,E,w)}else if(_){var C={from:_.lower,to:_.upper};b.add(C),g.add(C)}else g.add(n),b.add(n),o.indexes.forEach(function(A){return v(A.name).add(n)});return S})}}),c=function(d){var h,p,v=d.query,g=v.index,b=v.range;return[g,new Ke((h=b.lower)!==null&&h!==void 0?h:t.MIN_KEY,(p=b.upper)!==null&&p!==void 0?p:t.MAX_KEY)]},f={get:function(d){return[a,new Ke(d.key)]},getMany:function(d){return[a,new Ke().addKeys(d.keys)]},count:c,query:c,openCursor:c};return Q(f).forEach(function(d){l[d]=function(h){var p=x.subscr;if(p){var v=function(D){var S="idb://"+e+"/"+r+"/"+D;return p[S]||(p[S]=new Ke)},g=v(""),b=v(":dels"),m=f[d](h),y=m[0],_=m[1];if(v(y.name||"").add(_),!y.isPrimaryKey)if(d==="count")b.add(n);else{var w=d==="query"&&u&&h.values&&i.query(K(K({},h),{values:!1}));return i[d].apply(this,arguments).then(function(D){if(d==="query"){if(u&&h.values)return w.then(function(A){var M=A.result;return g.addKeys(M),D});var S=h.values?D.result.map(s):D.result;h.values?g.addKeys(S):b.addKeys(S)}else if(d==="openCursor"){var E=D,C=h.values;return E&&Object.create(E,{key:{get:function(){return b.addKey(E.primaryKey),E.key}},primaryKey:{get:function(){var A=E.primaryKey;return b.addKey(A),A}},value:{get:function(){return C&&g.addKey(E.primaryKey),E.value}}})}return D})}}return i[d].apply(this,arguments)}}),l}})}};function Nl(t,e,n,r){function i(o){var a=t(o.name||"");function s(l){return l!=null?o.extractKey(l):null}var u=function(l){return o.multiEntry&&ae(l)?l.forEach(function(c){return a.addKey(c)}):a.addKey(l)};(n||r).forEach(function(l,c){var f=n&&s(n[c]),d=r&&s(r[c]);le(f,d)!==0&&(f!=null&&u(f),d!=null&&u(d))})}e.indexes.forEach(i)}var gi=function(){function t(e,n){var r=this;this._middlewares={},this.verno=0;var i=t.dependencies;this._options=n=K({addons:t.addons,autoOpen:!0,indexedDB:i.indexedDB,IDBKeyRange:i.IDBKeyRange},n),this._deps={indexedDB:n.indexedDB,IDBKeyRange:n.IDBKeyRange};var o=n.addons;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var a={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:V,dbReadyPromise:null,cancelOpen:V,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3};a.dbReadyPromise=new k(function(s){a.dbReadyResolve=s}),a.openCanceller=new k(function(s,u){a.cancelOpen=u}),this._state=a,this.name=e,this.on=cn(this,"populate","blocked","versionchange","close",{ready:[ai,V]}),this.on.ready.subscribe=jo(this.on.ready.subscribe,function(s){return function(u,l){t.vip(function(){var c=r._state;if(c.openComplete)c.dbOpenError||k.resolve().then(u),l&&s(u);else if(c.onReadyBeingFired)c.onReadyBeingFired.push(u),l&&s(u);else{s(u);var f=r;l||s(function d(){f.on.ready.unsubscribe(u),f.on.ready.unsubscribe(d)})}})}}),this.Collection=$u(this),this.Table=Zu(this),this.Transaction=sl(this),this.Version=Cl(this),this.WhereClause=ol(this),this.on("versionchange",function(s){s.newVersion>0?console.warn("Another connection wants to upgrade database '"+r.name+"'. Closing db now to resume the upgrade."):console.warn("Another connection wants to delete database '"+r.name+"'. Closing db now to resume the delete request."),r.close()}),this.on("blocked",function(s){!s.newVersion||s.newVersion<s.oldVersion?console.warn("Dexie.delete('"+r.name+"') was blocked"):console.warn("Upgrade '"+r.name+"' blocked by other connection holding version "+s.oldVersion/10)}),this._maxKey=en(n.IDBKeyRange),this._createTransaction=function(s,u,l,c){return new r.Transaction(s,u,l,r._options.chromeTransactionDurability,c)},this._fireOnBlocked=function(s){r.on("blocked").fire(s),Gt.filter(function(u){return u.name===r.name&&u!==r&&!u._state.vcFired}).map(function(u){return u.on("versionchange").fire(s)})},this.use(Ml),this.use(Rl),this.use(Kl),this.use(Ll),this.vip=Object.create(this,{_vip:{value:!0}}),o.forEach(function(s){return s(r)})}return t.prototype.version=function(e){if(isNaN(e)||e<.1)throw new R.Type("Given version is not a positive number");if(e=Math.round(e*10)/10,this.idbdb||this._state.isBeingOpened)throw new R.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,e);var n=this._versions,r=n.filter(function(i){return i._cfg.version===e})[0];return r||(r=new this.Version(e),n.push(r),n.sort(pl),r.stores({}),this._state.autoSchema=!1,r)},t.prototype._whenReady=function(e){var n=this;return this.idbdb&&(this._state.openComplete||x.letThrough||this._vip)?e():new k(function(r,i){if(n._state.openComplete)return i(new R.DatabaseClosed(n._state.dbOpenError));if(!n._state.isBeingOpened){if(!n._options.autoOpen){i(new R.DatabaseClosed);return}n.open().catch(V)}n._state.dbReadyPromise.then(r,i)}).then(e)},t.prototype.use=function(e){var n=e.stack,r=e.create,i=e.level,o=e.name;o&&this.unuse({stack:n,name:o});var a=this._middlewares[n]||(this._middlewares[n]=[]);return a.push({stack:n,create:r,level:i??10,name:o}),a.sort(function(s,u){return s.level-u.level}),this},t.prototype.unuse=function(e){var n=e.stack,r=e.name,i=e.create;return n&&this._middlewares[n]&&(this._middlewares[n]=this._middlewares[n].filter(function(o){return i?o.create!==i:r?o.name!==r:!1})),this},t.prototype.open=function(){return kl(this)},t.prototype._close=function(){var e=this._state,n=Gt.indexOf(this);if(n>=0&&Gt.splice(n,1),this.idbdb){try{this.idbdb.close()}catch{}this._novip.idbdb=null}e.dbReadyPromise=new k(function(r){e.dbReadyResolve=r}),e.openCanceller=new k(function(r,i){e.cancelOpen=i})},t.prototype.close=function(){this._close();var e=this._state;this._options.autoOpen=!1,e.dbOpenError=new R.DatabaseClosed,e.isBeingOpened&&e.cancelOpen(e.dbOpenError)},t.prototype.delete=function(){var e=this,n=arguments.length>0,r=this._state;return new k(function(i,o){var a=function(){e.close();var s=e._deps.indexedDB.deleteDatabase(e.name);s.onsuccess=G(function(){Al(e._deps,e.name),i()}),s.onerror=Me(o),s.onblocked=e._fireOnBlocked};if(n)throw new R.InvalidArgument("Arguments not allowed in db.delete()");r.isBeingOpened?r.dbReadyPromise.then(a):a()})},t.prototype.backendDB=function(){return this.idbdb},t.prototype.isOpen=function(){return this.idbdb!==null},t.prototype.hasBeenClosed=function(){var e=this._state.dbOpenError;return e&&e.name==="DatabaseClosed"},t.prototype.hasFailed=function(){return this._state.dbOpenError!==null},t.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(t.prototype,"tables",{get:function(){var e=this;return Q(this._allTables).map(function(n){return e._allTables[n]})},enumerable:!1,configurable:!0}),t.prototype.transaction=function(){var e=Sl.apply(this,arguments);return this._transaction.apply(this,e)},t.prototype._transaction=function(e,n,r){var i=this,o=x.trans;(!o||o.db!==this||e.indexOf("!")!==-1)&&(o=null);var a=e.indexOf("?")!==-1;e=e.replace("!","").replace("?","");var s,u;try{if(u=n.map(function(c){var f=c instanceof i.Table?c.name:c;if(typeof f!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return f}),e=="r"||e===ar)s=ar;else if(e=="rw"||e==sr)s=sr;else throw new R.InvalidArgument("Invalid transaction mode: "+e);if(o){if(o.mode===ar&&s===sr)if(a)o=null;else throw new R.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");o&&u.forEach(function(c){if(o&&o.storeNames.indexOf(c)===-1)if(a)o=null;else throw new R.SubTransaction("Table "+c+" not included in parent transaction.")}),a&&o&&!o.active&&(o=null)}}catch(c){return o?o._promise(null,function(f,d){d(c)}):J(c)}var l=ma.bind(null,this,s,u,o,r);return o?o._promise(s,l,"lock"):x.trans?zt(x.transless,function(){return i._whenReady(l)}):this._whenReady(l)},t.prototype.table=function(e){if(!_e(this._allTables,e))throw new R.InvalidTable("Table "+e+" does not exist");return this._allTables[e]},t}(),zl=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",Fl=function(){function t(e){this._subscribe=e}return t.prototype.subscribe=function(e,n,r){return this._subscribe(!e||typeof e=="function"?{next:e,error:n,complete:r}:e)},t.prototype[zl]=function(){return this},t}();function ga(t,e){return Q(e).forEach(function(n){var r=t[n]||(t[n]=new Ke);jn(r,e[n])}),t}function _a(t){return new Fl(function(e){var n=ri(t);function r(h){n&&Nt();var p=function(){return tt(t,{subscr:h,trans:null})},v=x.trans?zt(x.transless,p):p();return n&&v.then(Ve,Ve),v}var i=!1,o={},a={},s={get closed(){return i},unsubscribe:function(){i=!0,rt.storagemutated.unsubscribe(f)}};e.start&&e.start(s);var u=!1,l=!1;function c(){return Q(a).some(function(h){return o[h]&&Bl(o[h],a[h])})}var f=function(h){ga(o,h),c()&&d()},d=function(){if(!(u||i)){o={};var h={},p=r(h);l||(rt($t,f),l=!0),u=!0,Promise.resolve(p).then(function(v){u=!1,!i&&(c()?d():(o={},a=h,e.next&&e.next(v)))},function(v){u=!1,e.error&&e.error(v),s.unsubscribe()})}};return d(),s})}var jr;try{jr={indexedDB:j.indexedDB||j.mozIndexedDB||j.webkitIndexedDB||j.msIndexedDB,IDBKeyRange:j.IDBKeyRange||j.webkitIDBKeyRange}}catch{jr={indexedDB:null,IDBKeyRange:null}}var lt=gi;Mt(lt,K(K({},Jn),{delete:function(t){var e=new lt(t,{addons:[]});return e.delete()},exists:function(t){return new lt(t,{addons:[]}).open().then(function(e){return e.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(t){try{return Dl(lt.dependencies).then(t)}catch{return J(new R.MissingAPI)}},defineClass:function(){function t(e){fe(this,e)}return t},ignoreTransaction:function(t){return x.trans?zt(x.transless,t):t()},vip:Fr,async:function(t){return function(){try{var e=Hr(t.apply(this,arguments));return!e||typeof e.then!="function"?k.resolve(e):e}catch(n){return J(n)}}},spawn:function(t,e,n){try{var r=Hr(t.apply(n,e||[]));return!r||typeof r.then!="function"?k.resolve(r):r}catch(i){return J(i)}},currentTransaction:{get:function(){return x.trans||null}},waitFor:function(t,e){var n=k.resolve(typeof t=="function"?lt.ignoreTransaction(t):t).timeout(e||6e4);return x.trans?x.trans.waitFor(n):n},Promise:k,debug:{get:function(){return Pe},set:function(t){Xo(t,t==="dexie"?function(){return!0}:la)}},derive:Bt,extend:fe,props:Mt,override:jo,Events:cn,on:rt,liveQuery:_a,extendObservabilitySet:ga,getByKeyPath:Fe,setByKeyPath:ke,delByKeyPath:_u,shallowClone:Uo,deepClone:an,getObjectDiff:mi,cmp:le,asap:Wo,minKey:Pr,addons:[],connections:Gt,errnames:oi,dependencies:jr,semVer:Qi,version:Qi.split(".").map(function(t){return parseInt(t)}).reduce(function(t,e,n){return t+e/Math.pow(10,n*2)})}));lt.maxKey=en(lt.dependencies.IDBKeyRange);typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(rt($t,function(t){if(!ze){var e;$n?(e=document.createEvent("CustomEvent"),e.initCustomEvent(qe,!0,!0,t)):e=new CustomEvent(qe,{detail:t}),ze=!0,dispatchEvent(e),ze=!1}}),addEventListener(qe,function(t){var e=t.detail;ze||Wn(e)}));function Wn(t){var e=ze;try{ze=!0,rt.storagemutated.fire(t)}finally{ze=e}}var ze=!1;if(typeof BroadcastChannel<"u"){var oo=new BroadcastChannel(qe);rt($t,function(t){ze||oo.postMessage(t)}),oo.onmessage=function(t){t.data&&Wn(t.data)}}else if(typeof self<"u"&&typeof navigator<"u"){rt($t,function(t){try{ze||(typeof localStorage<"u"&&localStorage.setItem(qe,JSON.stringify({trig:Math.random(),changedParts:t})),typeof self.clients=="object"&&br([],self.clients.matchAll({includeUncontrolled:!0}),!0).forEach(function(e){return e.postMessage({type:qe,changedParts:t})}))}catch{}}),typeof addEventListener<"u"&&addEventListener("storage",function(t){if(t.key===qe){var e=JSON.parse(t.newValue);e&&Wn(e.changedParts)}});var ao=self.document&&navigator.serviceWorker;ao&&ao.addEventListener("message",Hl)}function Hl(t){var e=t.data;e&&e.type===qe&&Wn(e.changedParts)}k.rejectionMapper=ku;Xo(Pe,la);var kn=(t=>(t.CONCEPT="concept",t.FACT="fact",t.APPLICATION="application",t))(kn||{}),nn=(t=>(t.INITIAL="initial",t))(nn||{});const ba=[{id:"initial",name:"Sheet 1",boards:[{id:1,name:"concept",items:[]},{id:2,name:"fact",items:[]},{id:3,name:"application",items:[]}]}];class Vl extends gi{constructor(){super("wtd");_i(this,"sheet");this.version(1).stores({sheet:"++id, &name, boards"}),this.open().then(()=>{Qe.sheet.count(n=>{n===0&&Qe.sheet.bulkAdd(ba).then(()=>{console.log("Data seeded successfully!")}).catch(r=>{console.error("Error seeding data:",r)})})})}}const Qe=new Vl;ot.disable_scroll_handling;ot.goto;ot.invalidate;ot.invalidateAll;ot.preload_data;ot.preload_code;ot.before_navigate;ot.after_navigate;function so(t,e,n){const r=t.slice();return r[12]=e[n],r}function uo(t,e,n){const r=t.slice();return r[15]=e[n],r}function lo(t,e){let n,r=e[15].title+"",i,o,a,s,u=ge,l,c;function f(){return e[6](e[15])}return{key:t,first:null,c(){n=z("div"),i=ve(r),o=se(),this.h()},l(d){n=F(d,"DIV",{class:!0});var h=N(n);i=me(h,r),o=ue(h),h.forEach(O),this.h()},h(){I(n,"class",a="btn p-2 transition-colors "+e[4](e[12].name)),this.first=n},m(d,h){H(d,n,h),B(n,i),B(n,o),l||(c=[re(n,"click",f),re(n,"keydown",e[5])],l=!0)},p(d,h){e=d,h&1&&r!==(r=e[15].title+"")&&$e(i,r),h&1&&a!==(a="btn p-2 transition-colors "+e[4](e[12].name))&&I(n,"class",a)},r(){s=n.getBoundingClientRect()},f(){Pa(n),u()},a(){u(),u=La(n,s,ds,{duration:Wr})},d(d){d&&O(n),l=!1,bt(c)}}}function co(t,e){let n,r,i=e[12].name+"",o,a,s,u=[],l=new Map,c,f,d,h,p=e[12].items;const v=m=>m[15].id;for(let m=0;m<p.length;m+=1){let y=uo(e,p,m),_=v(y);l.set(_,u[m]=lo(_,y))}function g(...m){return e[7](e[12],...m)}function b(...m){return e[8](e[12],...m)}return{key:t,first:null,c(){n=z("div"),r=z("h1"),o=ve(i),a=se(),s=z("div");for(let m=0;m<u.length;m+=1)u[m].c();f=se(),this.h()},l(m){n=F(m,"DIV",{class:!0});var y=N(n);r=F(y,"H1",{class:!0});var _=N(r);o=me(_,i),_.forEach(O),a=ue(y),s=F(y,"DIV",{class:!0});var w=N(s);for(let D=0;D<u.length;D+=1)u[D].l(w);w.forEach(O),f=ue(y),y.forEach(O),this.h()},h(){I(r,"class","absolute text-4xl px-4 py-2 bottom-0 right-0 text-surface-400-500-token"),I(s,"class","rounded-container-token space-x-1 space-y-1 ring-outline-token w-inherit h-full min-h-full overflow-auto "),I(n,"class","card-glass rounded-container-token h-[33%] sm:h-full"),this.first=n},m(m,y){H(m,n,y),B(n,r),B(r,o),B(n,a),B(n,s);for(let _=0;_<u.length;_+=1)u[_].m(s,null);B(n,f),d||(h=[go(c=hu.call(null,s,{items:e[12].items,flipDurationMs:Wr})),re(s,"consider",g),re(s,"finalize",b)],d=!0)},p(m,y){if(e=m,y&1&&i!==(i=e[12].name+"")&&$e(o,i),y&25){p=e[12].items;for(let _=0;_<u.length;_+=1)u[_].r();u=bo(u,y,v,1,e,p,l,s,Ma,lo,null,uo);for(let _=0;_<u.length;_+=1)u[_].a()}c&&_o(c.update)&&y&1&&c.update.call(null,{items:e[12].items,flipDurationMs:Wr})},d(m){m&&O(n);for(let y=0;y<u.length;y+=1)u[y].d();d=!1,bt(h)}}}function jl(t){let e,n=[],r=new Map,i=t[0];const o=a=>a[12].id;for(let a=0;a<i.length;a+=1){let s=so(t,i,a),u=o(s);r.set(u,n[a]=co(u,s))}return{c(){e=z("section");for(let a=0;a<n.length;a+=1)n[a].c();this.h()},l(a){e=F(a,"SECTION",{class:!0});var s=N(e);for(let u=0;u<n.length;u+=1)n[u].l(s);s.forEach(O),this.h()},h(){I(e,"class","relative h-[90vh] max-h-full min-h-[90vh] p-2 sm:grid sm:grid-cols-3")},m(a,s){H(a,e,s);for(let u=0;u<n.length;u+=1)n[u].m(e,null)},p(a,[s]){s&31&&(i=a[0],n=bo(n,s,o,1,a,i,r,e,xa,co,null,so))},i:ge,o:ge,d(a){a&&O(e);for(let s=0;s<n.length;s+=1)n[s].d()}}}const Wr=300;function Wl(t,e,n){let{columnItems:r}=e;function i(h,p){const v=r.findIndex(g=>g.id===h);n(0,r[v].items=p.detail.items,r),n(0,r=[...r])}function o(h,p){const v=r.findIndex(g=>g.id===h);n(0,r[v].items=p.detail.items,r),n(0,r=[...r]),a(r)}function a(h){return Qe.sheet.where("id").equals(nn.INITIAL).modify(p=>{p.boards=h}),h}function s(h){const p={type:"prompt",title:"Edit",body:"Rename the thing to learn.",value:h.title,response:v=>{v&&Qe.sheet.where("id").equals(nn.INITIAL).modify(g=>{g.boards.forEach(b=>{b.items.forEach(m=>{m.id===h.id&&(m.title=v)})})})}};Ye.trigger(p)}function u(h){switch(h){case kn.CONCEPT:return"btn-filled-primary";case kn.FACT:return"btn-filled-accent";case kn.APPLICATION:return"btn-filled-tertiary"}}function l(h){Ra.call(this,t,h)}const c=h=>s(h),f=(h,p)=>i(h.id,p),d=(h,p)=>o(h.id,p);return t.$$set=h=>{"columnItems"in h&&n(0,r=h.columnItems)},[r,i,o,s,u,l,c,f,d]}class Gl extends xt{constructor(e){super(),Rt(this,e,Wl,jl,it,{columnItems:0})}}let Ul="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",Yl=(t=21)=>{let e="",n=t;for(;n--;)e+=Ul[Math.random()*64|0];return e};function Zl(t){let e;return{c(){e=ve("3what")},l(n){e=me(n,"3what")},m(n,r){H(n,e,r)},d(n){n&&O(e)}}}function fo(t){let e,n;return e=new Gl({props:{columnItems:t[0]}}),{c(){ft(e.$$.fragment)},l(r){Tt(e.$$.fragment,r)},m(r,i){dt(e,r,i),n=!0},p(r,i){const o={};i&1&&(o.columnItems=r[0]),e.$set(o)},i(r){n||(U(e.$$.fragment,r),n=!0)},o(r){X(e.$$.fragment,r),n=!1},d(r){ht(e,r)}}}function Xl(t){let e,n,r,i,o,a,s,u,l,c,f,d,h,p,v,g,b,m,y,_,w,D,S;e=new is({}),i=new fs({}),h=new Za({props:{tag:"h1",direction:"bg-gradient-to-r",from:"from-primary-300",to:"to-accent-200",$$slots:{default:[Zl]},$$scope:{ctx:t}}});let E=t[0]&&fo(t);return{c(){ft(e.$$.fragment),n=se(),r=z("header"),ft(i.$$.fragment),o=se(),a=z("div"),s=z("button"),u=ve("+"),l=se(),c=z("button"),f=ve("🧹"),d=se(),ft(h.$$.fragment),p=se(),v=z("main"),E&&E.c(),g=se(),b=z("footer"),m=ve(`by
	`),y=z("a"),_=ve("leovoon"),this.h()},l(C){Tt(e.$$.fragment,C),n=ue(C),r=F(C,"HEADER",{class:!0});var A=N(r);Tt(i.$$.fragment,A),o=ue(A),a=F(A,"DIV",{});var M=N(a);s=F(M,"BUTTON",{class:!0});var P=N(s);u=me(P,"+"),P.forEach(O),l=ue(M),c=F(M,"BUTTON",{class:!0});var L=N(c);f=me(L,"🧹"),L.forEach(O),M.forEach(O),d=ue(A),Tt(h.$$.fragment,A),A.forEach(O),p=ue(C),v=F(C,"MAIN",{});var W=N(v);E&&E.l(W),W.forEach(O),g=ue(C),b=F(C,"FOOTER",{class:!0});var T=N(b);m=me(T,`by
	`),y=F(T,"A",{href:!0});var $=N(y);_=me($,"leovoon"),$.forEach(O),T.forEach(O),this.h()},h(){I(s,"class","btn-icon"),I(c,"class","btn-icon"),I(r,"class","flex items-center justify-between p-2 "),I(y,"href","https://github.com/leovoon/3what"),I(b,"class","absolute text-accent-600-300-token bottom-0 text-xs p-1")},m(C,A){dt(e,C,A),H(C,n,A),H(C,r,A),dt(i,r,null),B(r,o),B(r,a),B(a,s),B(s,u),B(a,l),B(a,c),B(c,f),B(r,d),dt(h,r,null),H(C,p,A),H(C,v,A),E&&E.m(v,null),H(C,g,A),H(C,b,A),B(b,m),B(b,y),B(y,_),w=!0,D||(S=[re(s,"click",t[2]),re(c,"click",t[3])],D=!0)},p(C,[A]){const M={};A&64&&(M.$$scope={dirty:A,ctx:C}),h.$set(M),C[0]?E?(E.p(C,A),A&1&&U(E,1)):(E=fo(C),E.c(),U(E,1),E.m(v,null)):E&&(Pt(),X(E,1,1,()=>{E=null}),Lt())},i(C){w||(U(e.$$.fragment,C),U(i.$$.fragment,C),U(h.$$.fragment,C),U(E),w=!0)},o(C){X(e.$$.fragment,C),X(i.$$.fragment,C),X(h.$$.fragment,C),X(E),w=!1},d(C){ht(e,C),C&&O(n),C&&O(r),ht(i),ht(h),C&&O(p),C&&O(v),E&&E.d(),C&&O(g),C&&O(b),D=!1,bt(S)}}}function ql(t,e,n){let r,i,o,a,s=ge,u=()=>(s(),s=Ba(r,f=>n(5,a=f)),r);t.$$.on_destroy.push(()=>s());function l(){const f={type:"prompt",title:"New what-to-do",body:"Name the new thing to learn.",value:"",response:d=>{if(!d||d===void 0)return;let h={id:Yl(),title:d,date:new Date};Qe.sheet.where("id").equals(nn.INITIAL).modify(p=>{p.boards[0].items.unshift(h)})}};Ye.trigger(f)}function c(){const f={type:"confirm",title:"Confirm delete",body:"Are you sure to clear all?",response:d=>{d===!0&&Qe.sheet.clear().then(()=>{Qe.sheet.bulkAdd(ba).then(()=>{console.log("Users table reset to its initial state")})})}};Ye.trigger(f)}return t.$$.update=()=>{t.$$.dirty&32&&n(4,i=a),t.$$.dirty&16&&n(0,o=i==null?void 0:i.boards)},u(n(1,r=_a(()=>Qe.sheet.get({id:nn.INITIAL})))),[o,r,l,c,i,a]}class ec extends xt{constructor(e){super(),Rt(this,e,ql,Xl,it,{})}}export{ec as default};
